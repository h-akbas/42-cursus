%!PS-Adobe-3.0
%%Creator: groff version 1.22.4
%%CreationDate: Sat Feb  3 10:41:36 2024
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.22 4
%%Pages: 13
%%PageOrder: Ascend
%%DocumentMedia: Default 595 842 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.22 4
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 595 842 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10.95/Times-Bold@0 SF
-.219(NA)72 84 S(ME).219 E F0
(open, openat, creat \255 open and possibly create a \214le)108 96 Q F1
(SYNOPSIS)72 112.8 Q/F2 10/Times-Bold@0 SF(#include <sys/types.h>)108
124.8 Q(#include <sys/stat.h>)108 136.8 Q(#include <fcntl.h>)108 148.8 Q
(int open\(const char *)108 165.6 Q/F3 10/Times-Italic@0 SF(pathname)
1.25 E F2 2.5(,i).18 G(nt)-2.5 E F3<8d61>4.41 E(gs)-.1 E F2(\);).27 E
(int open\(const char *)108 177.6 Q F3(pathname)1.25 E F2 2.5(,i).18 G
(nt)-2.5 E F3<8d61>4.41 E(gs)-.1 E F2 2.5(,m).27 G(ode_t)-2.5 E F3(mode)
2.88 E F2(\);).18 E(int cr)108 194.4 Q(eat\(const char *)-.18 E F3
(pathname)1.25 E F2 2.5(,m).18 G(ode_t)-2.5 E F3(mode)2.88 E F2(\);).18
E(int openat\(int)108 211.2 Q F3(dirfd)2.85 E F2 2.5(,c).77 G
(onst char *)-2.5 E F3(pathname)1.25 E F2 2.5(,i).18 G(nt)-2.5 E F3
<8d61>4.41 E(gs)-.1 E F2(\);).27 E(int openat\(int)108 223.2 Q F3(dirfd)
2.85 E F2 2.5(,c).77 G(onst char *)-2.5 E F3(pathname)1.25 E F2 2.5(,i)
.18 G(nt)-2.5 E F3<8d61>4.41 E(gs)-.1 E F2 2.5(,m).27 G(ode_t)-2.5 E F3
(mode)2.88 E F2(\);).18 E F0(/* Documented separately)108 240 Q 2.5(,i)
-.65 G(n)-2.5 E F2(openat2)2.5 E F0(\(2\): */)A F2(int openat2\(int)108
252 Q F3(dirfd)2.85 E F2 2.5(,c).77 G(onst char *)-2.5 E F3(pathname)
1.25 E F2(,).18 E(const struct open_ho)138 264 Q 2.5(w*)-.1 G F3(how)
-2.19 E F2 2.5(,s).31 G(ize_t)-2.5 E F3(size)2.84 E F2(\);).18 E F0
(Feature T)88 280.8 Q(est Macro Requirements for glibc \(see)-.7 E F2
(featur)2.5 E(e_test_macr)-.18 E(os)-.18 E F0(\(7\)\):)A F2(openat)108
297.6 Q F0(\(\):)A(Since glibc 2.10:)128 309.6 Q
(_POSIX_C_SOURCE >= 200809L)148 321.6 Q(Before glibc 2.10:)128 333.6 Q
(_A)148 345.6 Q(TFILE_SOURCE)-1.11 E F1(DESCRIPTION)72 362.4 Q F0(The)
108 374.4 Q F2(open)2.716 E F0 .216
(\(\) system call opens the \214le speci\214ed by)B F3(pathname)3.965 E
F0 5.215(.I).18 G 2.715(ft)-5.215 G .215
(he speci\214ed \214le does not e)-2.715 F .215(xist, it may op-)-.15 F
(tionally \(if)108 386.4 Q F2(O_CREA)2.5 E(T)-.95 E F0
(is speci\214ed in)2.5 E F3<8d61>4.41 E(gs)-.1 E F0 2.5(\)b).27 G 2.5
(ec)-2.5 G(reated by)-2.5 E F2(open)2.5 E F0(\(\).)A .006(The return v)
108 403.2 R .006(alue of)-.25 F F2(open)2.506 E F0 .006
(\(\) is a \214le descriptor)B 2.507(,as)-.4 G .007(mall, nonne)-2.507 F
-.05(ga)-.15 G(ti).05 E .307 -.15(ve i)-.25 H(nte).15 E .007
(ger that is used in subsequent system)-.15 F .691(calls \()108 415.2 R
F2 -.18(re)C(ad).18 E F0(\(2\),)A F2(write)3.191 E F0(\(2\),)A F2(lseek)
3.191 E F0(\(2\),)A F2(fcntl)3.191 E F0 .691
(\(2\), etc.\) to refer to the open \214le.)B .69
(The \214le descriptor returned by a)5.69 F
(successful call will be the lo)108 427.2 Q
(west-numbered \214le descriptor not currently open for the process.)
-.25 E .524(By def)108 444 R .524(ault, the ne)-.1 F 3.024<778c>-.25 G
.524(le descriptor is set to remain open across an)-3.024 F F2(execv)
3.024 E(e)-.1 E F0 .524(\(2\) \(i.e., the)B F2(FD_CLOEXEC)3.025 E F0
(\214le)3.025 E .568(descriptor \215ag described in)108 456 R F2(fcntl)
3.068 E F0 .568(\(2\) is initially disabled\); the)B F2(O_CLOEXEC)3.068
E F0 .568(\215ag, described belo)3.068 F 1.867 -.65(w, c)-.25 H .567
(an be).65 F(used to change this def)108 468 Q 2.5(ault. The)-.1 F
(\214le of)2.5 E(fset is set to the be)-.25 E
(ginning of the \214le \(see)-.15 E F2(lseek)2.5 E F0(\(2\)\).)A 3.27
(Ac)108 484.8 S .77(all to)-3.27 F F2(open)3.27 E F0 .77
(\(\) creates a ne)B(w)-.25 E F3 .77(open \214le description)3.5 F F0
3.27(,a).24 G 3.27(ne)-3.27 G .77
(ntry in the system-wide table of open \214les.)-3.27 F(The)5.77 E .425
(open \214le description records the \214le of)108 496.8 R .424
(fset and the \214le status \215ags \(see belo)-.25 F 2.924(w\). A)-.25
F .424(\214le descriptor is a refer)2.924 F(-)-.2 E .249
(ence to an open \214le description; this reference is unaf)108 508.8 R
.249(fected if)-.25 F F3(pathname)3.999 E F0 .249(is subsequently remo)
2.929 F -.15(ve)-.15 G 2.749(do).15 G 2.749(rm)-2.749 G(odi-)-2.749 E
(\214ed to refer to a dif)108 520.8 Q(ferent \214le.)-.25 E -.15(Fo)5 G
2.5(rf).15 G(urther details on open \214le descriptions, see NO)-2.5 E
(TES.)-.4 E 1.666(The ar)108 537.6 R(gument)-.18 E F3<8d61>6.076 E(gs)
-.1 E F0 1.665(must include one of the follo)4.436 F(wing)-.25 E F3
1.665(access modes)4.495 F F0(:).27 E F2(O_RDONL)4.165 E(Y)-.92 E F0(,)A
F2(O_WR)4.165 E(ONL)-.3 E(Y)-.92 E F0 4.165(,o)C(r)-4.165 E F2(O_RD)108
549.6 Q(WR)-.4 E F0 5(.T)C(hese request opening the \214le read-only)-5
E 2.5(,w)-.65 G(rite-only)-2.5 E 2.5(,o)-.65 G 2.5(rr)-2.5 G
(ead/write, respecti)-2.5 E -.15(ve)-.25 G(ly).15 E(.)-.65 E .508(In ad\
dition, zero or more \214le creation \215ags and \214le status \215ags \
can be bitwise-)108 566.4 R F3(or).23 E F0 1.508 -.5('d i).73 H(n).5 E
F3<8d61>4.918 E(gs)-.1 E F0 5.508(.T).27 G(he)-5.508 E F3 .508
(\214le cr)4.918 F(e-)-.37 E 2.183(ation \215a)108 578.4 R(gs)-.1 E F0
(are)4.953 E F2(O_CLOEXEC)4.683 E F0(,)A F2(O_CREA)4.683 E(T)-.95 E F0
(,)A F2(O_DIRECT)4.682 E(OR)-.18 E(Y)-.35 E F0(,)A F2(O_EXCL)4.682 E F0
(,)A F2(O_NOCTTY)4.682 E F0(,)A F2(O_NOFOL-)4.682 E(LO)108 590.4 Q(W)-.5
E F0(,)A F2(O_TMPFILE)3.683 E F0 3.683(,a)C(nd)-3.683 E F2(O_TR)3.683 E
(UNC)-.3 E F0 6.183(.T)C(he)-6.183 E F3 1.183(\214le status \215a)5.593
F(gs)-.1 E F0 1.184(are all of the remaining \215ags listed belo)3.953 F
-.65(w.)-.25 G .752(The distinction between these tw)108 602.4 R 3.251
(og)-.1 G .751(roups of \215ags is that the \214le creation \215ags af)
-3.251 F .751(fect the semantics of the)-.25 F .508
(open operation itself, while the \214le status \215ags af)108 614.4 R
.509(fect the semantics of subsequent I/O operations.)-.25 F .509
(The \214le)5.509 F(status \215ags can be retrie)108 626.4 Q -.15(ve)
-.25 G 2.5(da).15 G(nd \(in some cases\) modi\214ed; see)-2.5 E F2
(fcntl)2.5 E F0(\(2\) for details.)A(The full list of \214le creation \
\215ags and \214le status \215ags is as follo)108 643.2 Q(ws:)-.25 E F2
(O_APPEND)108 660 Q F0 .182(The \214le is opened in append mode.)144 672
R .182(Before each)5.182 F F2(write)2.682 E F0 .182
(\(2\), the \214le of)B .181(fset is positioned at the end of)-.25 F
1.233(the \214le, as if with)144 684 R F2(lseek)3.733 E F0 3.733
(\(2\). The)B 1.233(modi\214cation of the \214le of)3.733 F 1.233
(fset and the write operation are per)-.25 F(-)-.2 E
(formed as a single atomic step.)144 696 Q F2(O_APPEND)144 712.8 Q F0
1.225(may lead to corrupted \214les on NFS \214lesystems if more than o\
ne process appends)3.725 F .015(data to a \214le at once.)144 724.8 R
.016(This is because NFS does not support appending to a \214le, so the\
 client k)5.015 F(ernel)-.1 E 184.28(Linux 2020-11-01)72 768 R(1)205.67
E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F
(has to simulate it, which can')144 84 Q 2.5(tb)-.18 G 2.5(ed)-2.5 G
(one without a race condition.)-2.5 E/F1 10/Times-Bold@0 SF(O_ASYNC)108
100.8 Q F0 1.378(Enable signal-dri)144 112.8 R -.15(ve)-.25 G 3.878(nI)
.15 G 1.378(/O: generate a signal \()-3.878 F F1(SIGIO)A F0 1.377
(by def)3.877 F 1.377(ault, b)-.1 F 1.377(ut this can be changed via)-.2
F F1(fc-)3.877 E(ntl)144 124.8 Q F0 .043(\(2\)\) when input or output b\
ecomes possible on this \214le descriptor)B 5.044(.T)-.55 G .044
(his feature is a)-5.044 F -.25(va)-.2 G .044(ilable only).25 F .837
(for terminals, pseudoterminals, sock)144 136.8 R .837
(ets, and \(since Linux 2.6\) pipes and FIFOs.)-.1 F(See)5.837 E F1
(fcntl)3.337 E F0 .836(\(2\) for)B(further details.)144 148.8 Q
(See also B)5 E(UGS, belo)-.1 E -.65(w.)-.25 G F1(O_CLOEXEC)108 165.6 Q
F0(\(since Linux 2.6.23\))2.5 E .126(Enable the close-on-e)144 177.6 R
-.15(xe)-.15 G 2.626<638d>.15 G .126(ag for the ne)-2.626 F 2.626<778c>
-.25 G .126(le descriptor)-2.626 F 5.126(.S)-.55 G .126
(pecifying this \215ag permits a program to)-5.126 F -.2(avo)144 189.6 S
(id additional).2 E F1(fcntl)2.5 E F0(\(2\))A F1(F_SETFD)2.5 E F0
(operations to set the)2.5 E F1(FD_CLOEXEC)2.5 E F0(\215ag.)2.5 E .118(\
Note that the use of this \215ag is essential in some multithreaded pro\
grams, because using a separate)144 206.4 R F1(fcntl)144 218.4 Q F0
(\(2\))A F1(F_SETFD)2.898 E F0 .398(operation to set the)2.898 F F1
(FD_CLOEXEC)2.898 E F0 .399(\215ag does not suf)2.899 F .399
(\214ce to a)-.25 F -.2(vo)-.2 G .399(id race condi-).2 F .78(tions whe\
re one thread opens a \214le descriptor and attempts to set its close-o\
n-e)144 230.4 R -.15(xe)-.15 G 3.28<638d>.15 G .78(ag using)-3.28 F F1
(fc-)3.28 E(ntl)144 242.4 Q F0 .003
(\(2\) at the same time as another thread does a)B F1 -.25(fo)2.504 G
(rk).25 E F0 .004(\(2\) plus)B F1(execv)2.504 E(e)-.1 E F0 2.504
(\(2\). Depending)B .004(on the order of)2.504 F -.15(exe)144 254.4 S
.363(cution, the race may lead to the \214le descriptor returned by).15
F F1(open)2.863 E F0 .362(\(\) being unintentionally leak)B(ed)-.1 E
.275(to the program e)144 266.4 R -.15(xe)-.15 G .276
(cuted by the child process created by).15 F F1 -.25(fo)2.776 G(rk).25 E
F0 2.776(\(2\). \(This)B .276(kind of race is in principle)2.776 F .806
(possible for an)144 278.4 R 3.306(ys)-.15 G .805
(ystem call that creates a \214le descriptor whose close-on-e)-3.306 F
-.15(xe)-.15 G 3.305<638d>.15 G .805(ag should be set,)-3.305 F .221
(and v)144 290.4 R .221(arious other Linux system calls pro)-.25 F .221
(vide an equi)-.15 F -.25(va)-.25 G .221(lent of the).25 F F1(O_CLOEXEC)
2.722 E F0 .222(\215ag to deal with)2.722 F(this problem.\))144 302.4 Q
F1(O_CREA)108 319.2 Q(T)-.95 E F0(If)144 331.2 Q/F2 10/Times-Italic@0 SF
(pathname)3.75 E F0(does not e)2.68 E(xist, create it as a re)-.15 E
(gular \214le.)-.15 E(The o)144 348 Q(wner \(user ID\) of the ne)-.25 E
2.5<778c>-.25 G(le is set to the ef)-2.5 E(fecti)-.25 E .3 -.15(ve u)
-.25 H(ser ID of the process.).15 E 1.729(The group o)144 364.8 R 1.729
(wnership \(group ID\) of the ne)-.25 F 4.229<778c>-.25 G 1.729
(le is set either to the ef)-4.229 F(fecti)-.25 E 2.029 -.15(ve g)-.25 H
1.728(roup ID of the).15 F 1.275(process \(System V semantics\) or to t\
he group ID of the parent directory \(BSD semantics\).)144 376.8 R(On)
6.275 E .062(Linux, the beha)144 388.8 R .062(vior depends on whether t\
he set-group-ID mode bit is set on the parent directory: if)-.2 F .25(t\
hat bit is set, then BSD semantics apply; otherwise, System V semantics\
 apply)144 400.8 R 5.25(.F)-.65 G .25(or some \214lesys-)-5.4 F 1.7
(tems, the beha)144 412.8 R 1.699(vior also depends on the)-.2 F F2
(bsdgr)4.469 E(oups)-.45 E F0(and)4.469 E F2(sysvgr)4.539 E(oups)-.45 E
F0 1.699(mount options described in)4.469 F F1(mount)144 424.8 Q F0
(\(8\).)A(The)144 441.6 Q F2(mode)3.025 E F0(ar)2.825 E .145
(gument speci\214es the \214le mode bits to be applied when a ne)-.18 F
2.645<778c>-.25 G .145(le is created.)-2.645 F .145(If neither)5.145 F
F1(O_CREA)144 453.6 Q(T)-.95 E F0(nor)3.049 E F1(O_TMPFILE)3.049 E F0
.549(is speci\214ed in)3.049 F F2<8d61>4.959 E(gs)-.1 E F0 3.049(,t).27
G(hen)-3.049 E F2(mode)3.429 E F0 .548
(is ignored \(and can thus be speci-)3.229 F .921
(\214ed as 0, or simply omitted\).)144 465.6 R(The)5.921 E F2(mode)3.801
E F0(ar)3.601 E(gument)-.18 E F1(must)3.421 E F0 .922(be supplied if)
3.421 F F1(O_CREA)3.422 E(T)-.95 E F0(or)3.422 E F1(O_TMP-)3.422 E(FILE)
144 477.6 Q F0 .173(is speci\214ed in)2.673 F F2<8d61>4.583 E(gs)-.1 E
F0 2.672(;i).27 G 2.672(fi)-2.672 G 2.672(ti)-2.672 G 2.672(sn)-2.672 G
.172(ot supplied, some arbitrary bytes from the stack will be applied)
-2.672 F(as the \214le mode.)144 489.6 Q .769(The ef)144 506.4 R(fecti)
-.25 E 1.069 -.15(ve m)-.25 H .769(ode is modi\214ed by the process').15
F(s)-.55 E F2(umask)3.349 E F0 .77(in the usual w)3.939 F .77
(ay: in the absence of a de-)-.1 F -.1(fa)144 518.4 S(ult A).1 E
(CL, the mode of the created \214le is)-.4 E F2(\(mode & \001umask\))
2.58 E F0(.).06 E .683(Note that)144 535.2 R F2(mode)3.563 E F0 .683
(applies only to future accesses of the ne)3.363 F .683
(wly created \214le; the)-.25 F F1(open)3.183 E F0 .683
(\(\) call that cre-)B
(ates a read-only \214le may well return a read/write \214le descriptor)
144 547.2 Q(.)-.55 E(The follo)144 564 Q
(wing symbolic constants are pro)-.25 E(vided for)-.15 E F2(mode)2.88 E
F0(:).18 E F1(S_IR)144 580.8 Q(WXU)-.35 E F0(00700 user \(\214le o)189
592.8 Q(wner\) has read, write, and e)-.25 E -.15(xe)-.15 G
(cute permission).15 E F1(S_IR)144 609.6 Q(USR)-.3 E F0
(00400 user has read permission)189 621.6 Q F1(S_IWUSR)144 638.4 Q F0
(00200 user has write permission)189 650.4 Q F1(S_IXUSR)144 667.2 Q F0
(00100 user has e)189 679.2 Q -.15(xe)-.15 G(cute permission).15 E F1
(S_IR)144 696 Q(WXG)-.35 E F0(00070 group has read, write, and e)189 708
Q -.15(xe)-.15 G(cute permission).15 E 184.28(Linux 2020-11-01)72 768 R
(2)205.67 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10/Times-Bold@0 SF
(S_IRGRP)144 84 Q F0(00040 group has read permission)189 96 Q F1
(S_IWGRP)144 112.8 Q F0(00020 group has write permission)189 124.8 Q F1
(S_IXGRP)144 141.6 Q F0(00010 group has e)189 153.6 Q -.15(xe)-.15 G
(cute permission).15 E F1(S_IR)144 170.4 Q(WXO)-.35 E F0
(00007 others ha)189 182.4 Q .3 -.15(ve r)-.2 H(ead, write, and e).15 E
-.15(xe)-.15 G(cute permission).15 E F1(S_IR)144 199.2 Q -.4(OT)-.3 G(H)
.4 E F0(00004 others ha)189 211.2 Q .3 -.15(ve r)-.2 H(ead permission)
.15 E F1(S_IW)144 228 Q -.4(OT)-.1 G(H).4 E F0(00002 others ha)189 240 Q
.3 -.15(ve w)-.2 H(rite permission).15 E F1(S_IXO)144 256.8 Q(TH)-.4 E
F0(00001 others ha)189 268.8 Q .3 -.15(ve exe)-.2 H(cute permission).15
E .289(According to POSIX, the ef)144 285.6 R .289
(fect when other bits are set in)-.25 F/F2 10/Times-Italic@0 SF(mode)
3.17 E F0 .29(is unspeci\214ed.)2.97 F .29(On Linux, the fol-)5.29 F(lo)
144 297.6 Q(wing bits are also honored in)-.25 E F2(mode)2.88 E F0(:).18
E F1(S_ISUID)144 314.4 Q F0(0004000 set-user)189 314.4 Q(-ID bit)-.2 E
F1(S_ISGID)144 331.2 Q F0(0002000 set-group-ID bit \(see)189 331.2 Q F1
(inode)2.5 E F0(\(7\)\).)A F1(S_ISVTX)144 348 Q F0(0001000 stick)189 360
Q 2.5(yb)-.15 G(it \(see)-2.5 E F1(inode)2.5 E F0(\(7\)\).)A F1
(O_DIRECT)108 376.8 Q F0(\(since Linux 2.4.10\))2.5 E -.35(Tr)144 388.8
S 2.922(yt).35 G 2.922(om)-2.922 G .422(inimize cache ef)-2.922 F .422
(fects of the I/O to and from this \214le.)-.25 F .421
(In general this will de)5.421 F .421(grade perfor)-.15 F(-)-.2 E .509
(mance, b)144 400.8 R .509(ut it is useful in special situations, such \
as when applications do their o)-.2 F .51(wn caching.)-.25 F(File)5.51 E
.544(I/O is done directly to/from user)144 412.8 R .543(-space b)-.2 F
(uf)-.2 E 3.043(fers. The)-.25 F F1(O_DIRECT)3.043 E F0 .543
(\215ag on its o)3.043 F .543(wn mak)-.25 F .543(es an ef)-.1 F(fort)
-.25 E .231(to transfer data synchronously)144 424.8 R 2.731(,b)-.65 G
.231(ut does not gi)-2.931 F .531 -.15(ve t)-.25 H .231
(he guarantees of the).15 F F1(O_SYNC)2.731 E F0 .232
(\215ag that data and)2.732 F .36(necessary metadata are transferred.)
144 436.8 R 1.96 -.8(To g)5.36 H .36(uarantee synchronous I/O,).8 F F1
(O_SYNC)2.86 E F0 .36(must be used in ad-)2.86 F(dition to)144 448.8 Q
F1(O_DIRECT)2.5 E F0 5(.S)C(ee NO)-5 E(TES belo)-.4 E 2.5(wf)-.25 G
(or further discussion.)-2.5 E 2.5(As)144 465.6 S
(emantically similar \(b)-2.5 E(ut deprecated\) interf)-.2 E
(ace for block de)-.1 E(vices is described in)-.25 E F1(raw)2.5 E F0
(\(8\).)A F1(O_DIRECT)108 482.4 Q(OR)-.18 E(Y)-.35 E F0(If)144 494.4 Q
F2(pathname)4.359 E F0 1.859(is not a directory)4.359 F 4.359(,c)-.65 G
1.859(ause the open to f)-4.359 F 4.36(ail. This)-.1 F 1.86(\215ag w)
4.36 F 1.86(as added in k)-.1 F 1.86(ernel v)-.1 F(ersion)-.15 E
(2.1.126, to a)144 506.4 Q -.2(vo)-.2 G
(id denial-of-service problems if).2 E F1(opendir)2.5 E F0
(\(3\) is called on a FIFO or tape de)A(vice.)-.25 E F1(O_DSYNC)108
523.2 Q F0 .31(Write operations on the \214le will complete according t\
o the requirements of synchronized I/O)144 535.2 R F2(data)3.16 E F0
(inte)144 547.2 Q(grity completion.)-.15 E .96(By the time)144 564 R F1
(write)3.46 E F0 .961(\(2\) \(and similar\) return, the output data has\
 been transferred to the underlying)B(hardw)144 576 Q .427
(are, along with an)-.1 F 2.927<798c>-.15 G .427(le metadata that w)
-2.927 F .427(ould be required to retrie)-.1 F .727 -.15(ve t)-.25 H
.427(hat data \(i.e., as though).15 F(each)144 588 Q F1(write)2.5 E F0
(\(2\) w)A(as follo)-.1 E(wed by a call to)-.25 E F1(fdatasync)2.5 E F0
(\(2\)\).)A F2(See NO)5.33 E(TES below)-.4 E F0(.).31 E F1(O_EXCL)108
604.8 Q F0 .904(Ensure that this call creates the \214le: if this \215a\
g is speci\214ed in conjunction with)144 616.8 R F1(O_CREA)3.405 E(T)
-.95 E F0 3.405(,a)C(nd)-3.405 E F2(pathname)145.25 628.8 Q F0
(already e)2.68 E(xists, then)-.15 E F1(open)2.5 E F0(\(\) f)A
(ails with the error)-.1 E F1(EEXIST)2.5 E F0(.)A 1.072(When these tw)
144 645.6 R 3.572<6f8d>-.1 G 1.071
(ags are speci\214ed, symbolic links are not follo)-3.572 F 1.071
(wed: if)-.25 F F2(pathname)4.821 E F0 1.071(is a symbolic)3.751 F
(link, then)144 657.6 Q F1(open)2.5 E F0(\(\) f)A(ails re)-.1 E -.05(ga)
-.15 G(rdless of where the symbolic link points.).05 E .64
(In general, the beha)144 674.4 R .64(vior of)-.2 F F1(O_EXCL)3.14 E F0
.64(is unde\214ned if it is used without)3.14 F F1(O_CREA)3.14 E(T)-.95
E F0 5.64(.T)C .64(here is one)-5.64 F -.15(ex)144 686.4 S .675
(ception: on Linux 2.6 and later).15 F(,)-.4 E F1(O_EXCL)3.175 E F0 .675
(can be used without)3.175 F F1(O_CREA)3.175 E(T)-.95 E F0(if)3.175 E F2
(pathname)4.425 E F0(refers)3.355 E .16(to a block de)144 698.4 R 2.66
(vice. If)-.25 F .16(the block de)2.66 F .16
(vice is in use by the system \(e.g., mounted\),)-.25 F F1(open)2.66 E
F0 .16(\(\) f)B .16(ails with the)-.1 F(error)144 710.4 Q F1(EB)2.5 E
(USY)-.1 E F0(.)A 184.28(Linux 2020-11-01)72 768 R(3)205.67 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F .801(On NFS,)144 84 R/F1 10
/Times-Bold@0 SF(O_EXCL)3.301 E F0 .801
(is supported only when using NFSv3 or later on k)3.301 F .8
(ernel 2.6 or later)-.1 F 5.8(.I)-.55 G 3.3(nN)-5.8 G(FS)-3.3 E(en)144
96 Q 1.276(vironments where)-.4 F F1(O_EXCL)3.776 E F0 1.276
(support is not pro)3.776 F 1.276
(vided, programs that rely on it for performing)-.15 F 1.193
(locking tasks will contain a race condition.)144 108 R 1.193
(Portable programs that w)6.193 F 1.193(ant to perform atomic \214le)-.1
F 1.098(locking using a lock\214le, and need to a)144 120 R -.2(vo)-.2 G
1.098(id reliance on NFS support for).2 F F1(O_EXCL)3.598 E F0 3.598(,c)
C 1.099(an create a)-3.598 F .057(unique \214le on the same \214lesyste\
m \(e.g., incorporating hostname and PID\), and use)144 132 R F1(link)
2.557 E F0 .057(\(2\) to mak)B(e)-.1 E 3.656(al)144 144 S 1.156
(ink to the lock\214le.)-3.656 F(If)6.156 E F1(link)3.656 E F0 1.156
(\(2\) returns 0, the lock is successful.)B 1.157(Otherwise, use)6.157 F
F1(stat)3.657 E F0 1.157(\(2\) on the)B(unique \214le to check if its l\
ink count has increased to 2, in which case the lock is also successful\
.)144 156 Q F1(O_LARGEFILE)108 172.8 Q F0 1.543(\(LFS\) Allo)144 184.8 R
4.043<778c>-.25 G 1.543(les whose sizes cannot be represented in an)
-4.043 F/F2 10/Times-Italic@0 SF(of)4.272 E(f_t)-.18 E F0(\(b)4.722 E
1.542(ut can be represented in an)-.2 F F2(of)144.23 196.8 Q(f64_t)-.18
E F0 3.26(\)t).68 G 3.26(ob)-3.26 G 3.26(eo)-3.26 G 3.26(pened. The)
-3.26 F F1(_LARGEFILE64_SOURCE)3.26 E F0 .76
(macro must be de\214ned \(before includ-)3.26 F(ing)144 208.8 Q F2(any)
2.921 E F0 .091(header \214les\) in order to obtain this de\214nition.)
2.911 F .09(Setting the)5.091 F F1(_FILE_OFFSET_BITS)2.59 E F0(feature)
2.59 E .843(test macro to 64 \(rather than using)144 220.8 R F1
(O_LARGEFILE)3.343 E F0 3.343(\)i)C 3.343(st)-3.343 G .843
(he preferred method of accessing lar)-3.343 F(ge)-.18 E
(\214les on 32-bit systems \(see)144 232.8 Q F1(featur)2.5 E
(e_test_macr)-.18 E(os)-.18 E F0(\(7\)\).)A F1(O_NO)108 249.6 Q -.95(AT)
-.4 G(IME).95 E F0(\(since Linux 2.6.8\))2.5 E
(Do not update the \214le last access time \()144 261.6 Q F2(st_atime)
.34 E F0(in the inode\) when the \214le is)2.5 E F1 -.18(re)2.5 G(ad).18
E F0(\(2\).)A(This \215ag can be emplo)144 278.4 Q
(yed only if one of the follo)-.1 E(wing conditions is true:)-.25 E(*)
144 295.2 Q(The ef)159 295.2 Q(fecti)-.25 E .3 -.15(ve U)-.25 H
(ID of the process matches the o).15 E(wner UID of the \214le.)-.25 E(*)
144 312 Q .888(The calling process has the)159 312 R F1(CAP_FO)3.388 E
(WNER)-.5 E F0 .887(capability in its user namespace and the o)3.388 F
(wner)-.25 E(UID of the \214le has a mapping in the namespace.)159 324 Q
.822(This \215ag is intended for use by inde)144 340.8 R .822
(xing or backup programs, where its use can signi\214cantly re-)-.15 F
.014(duce the amount of disk acti)144 352.8 R(vity)-.25 E 5.014(.T)-.65
G .014(his \215ag may not be ef)-5.014 F(fecti)-.25 E .314 -.15(ve o)
-.25 H 2.514(na).15 G .014(ll \214lesystems.)-2.514 F .014(One e)5.014 F
.014(xample is)-.15 F(NFS, where the serv)144 364.8 Q
(er maintains the access time.)-.15 E F1(O_NOCTTY)108 381.6 Q F0(If)144
393.6 Q F2(pathname)4.361 E F0 .611(refers to a terminal de)3.291 F
(vice\212see)-.25 E F1(tty)3.112 E F0 .612
(\(4\)\212it will not become the process')B 3.112(sc)-.55 G(ontrolling)
-3.112 E(terminal e)144 405.6 Q -.15(ve)-.25 G 2.5(ni).15 G 2.5(ft)-2.5
G(he process does not ha)-2.5 E .3 -.15(ve o)-.2 H(ne.).15 E F1
(O_NOFOLLO)108 422.4 Q(W)-.5 E F0 .104
(If the trailing component \(i.e., basename\) of)144 434.4 R F2
(pathname)3.854 E F0 .104(is a symbolic link, then the open f)2.784 F
.103(ails, with)-.1 F .904(the error)144 446.4 R F1(ELOOP)3.404 E F0
5.904(.S)C .904(ymbolic links in earlier components of the pathname wil\
l still be follo)-5.904 F(wed.)-.25 E .047(\(Note that the)144 458.4 R
F1(ELOOP)2.547 E F0 .046(error that can occur in this case is indisting\
uishable from the case where an)2.547 F 1.322(open f)144 470.4 R 1.323
(ails because there are too man)-.1 F 3.823(ys)-.15 G 1.323
(ymbolic links found while resolving components in the)-3.823 F
(pre\214x part of the pathname.\))144 482.4 Q .993
(This \215ag is a FreeBSD e)144 499.2 R .993(xtension, which w)-.15 F
.992(as added to Linux in v)-.1 F .992(ersion 2.1.126, and has subse-)
-.15 F(quently been standardized in POSIX.1-2008.)144 511.2 Q(See also)
144 528 Q F1(O_P)2.5 E -.95(AT)-.74 G(H).95 E F0(belo)2.5 E -.65(w.)-.25
G F1(O_NONBLOCK)108 544.8 Q F0(or)2.5 E F1(O_NDELA)2.5 E(Y)-1 E F0 1.057
(When possible, the \214le is opened in nonblocking mode.)144 556.8 R
1.057(Neither the)6.057 F F1(open)3.557 E F0 1.057(\(\) nor an)B 3.558
(ys)-.15 G(ubsequent)-3.558 E(I/O operations on the \214le descriptor w\
hich is returned will cause the calling process to w)144 568.8 Q(ait.)
-.1 E .666(Note that the setting of this \215ag has no ef)144 585.6 R
.665(fect on the operation of)-.25 F F1(poll)3.165 E F0(\(2\),)A F1
(select)3.165 E F0(\(2\),)A F1(epoll)3.165 E F0 .665(\(7\), and)B
(similar)144 597.6 Q 3.22(,s)-.4 G .72(ince those interf)-3.22 F .721(a\
ces merely inform the caller about whether a \214le descriptor is "read\
y",)-.1 F 1.597(meaning that an I/O operation performed on the \214le d\
escriptor with the)144 609.6 R F1(O_NONBLOCK)4.097 E F0(\215ag)4.096 E
F2(clear)144.2 621.6 Q F0 -.1(wo)3.23 G(uld not block.).1 E 1.374
(Note that this \215ag has no ef)144 638.4 R 1.375(fect for re)-.25 F
1.375(gular \214les and block de)-.15 F 1.375
(vices; that is, I/O operations will)-.25 F 1.582
(\(brie\215y\) block when de)144 650.4 R 1.582(vice acti)-.25 F 1.582
(vity is required, re)-.25 F -.05(ga)-.15 G 1.582(rdless of whether).05
F F1(O_NONBLOCK)4.081 E F0 1.581(is set.)4.081 F(Since)144 662.4 Q F1
(O_NONBLOCK)3.391 E F0 .891(semantics might e)3.391 F -.15(ve)-.25 G
.891(ntually be implemented, applications should not de-).15 F
(pend upon blocking beha)144 674.4 Q
(vior when specifying this \215ag for re)-.2 E
(gular \214les and block de)-.15 E(vices.)-.25 E -.15(Fo)144 691.2 S
4.613(rt).15 G 2.113(he handling of FIFOs \(named pipes\), see also)
-4.613 F F1<8c66>4.612 E(o)-.25 E F0 4.612(\(7\). F)B 2.112
(or a discussion of the ef)-.15 F 2.112(fect of)-.25 F F1(O_NONBLOCK)144
703.2 Q F0
(in conjunction with mandatory \214le locks and with \214le leases, see)
2.5 E F1(fcntl)2.5 E F0(\(2\).)A 184.28(Linux 2020-11-01)72 768 R(4)
205.67 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10/Times-Bold@0 SF(O_P)
108 84 Q -.95(AT)-.74 G(H).95 E F0(\(since Linux 2.6.39\))2.5 E .639
(Obtain a \214le descriptor that can be used for tw)144 96 R 3.139(op)
-.1 G .64(urposes: to indicate a location in the \214lesystem)-3.139 F
1.54(tree and to perform operations that act purely at the \214le descr\
iptor le)144 108 R -.15(ve)-.25 G 4.04(l. The).15 F 1.54
(\214le itself is not)4.04 F 1.722
(opened, and other \214le operations \(e.g.,)144 120 R F1 -.18(re)4.222
G(ad).18 E F0(\(2\),)A F1(write)4.222 E F0(\(2\),)A F1(fchmod)4.222 E F0
(\(2\),)A F1(fcho)4.222 E(wn)-.1 E F0(\(2\),)A F1(fgetxattr)4.222 E F0
(\(2\),)A F1(ioctl)144 132 Q F0(\(2\),)A F1(mmap)2.5 E F0(\(2\)\) f)A
(ail with the error)-.1 E F1(EB)2.5 E(ADF)-.3 E F0(.)A(The follo)144
148.8 Q(wing operations)-.25 E/F2 10/Times-Italic@0 SF(can)2.7 E F0
(be performed on the resulting \214le descriptor:)2.74 E(*)144 165.6 Q
F1(close)159 165.6 Q F0(\(2\).)A(*)144 182.4 Q F1(fchdir)159 182.4 Q F0
(\(2\), if the \214le descriptor refers to a directory \(since Linux 3.\
5\).)A(*)144 199.2 Q F1(fstat)159 199.2 Q F0(\(2\) \(since Linux 3.6\).)
A(*)144 216 Q F1(fstatfs)159 216 Q F0(\(2\) \(since Linux 3.12\).)A(*)
144 232.8 Q(Duplicating the \214le descriptor \()159 232.8 Q F1(dup)A F0
(\(2\),)A F1(fcntl)2.5 E F0(\(2\))A F1(F_DUPFD)2.5 E F0 2.5(,e)C(tc.\).)
-2.5 E(*)144 249.6 Q(Getting and setting \214le descriptor \215ags \()
159 249.6 Q F1(fcntl)A F0(\(2\))A F1(F_GETFD)2.5 E F0(and)2.5 E F1
(F_SETFD)2.5 E F0(\).)A(*)144 266.4 Q(Retrie)159 266.4 Q .162
(ving open \214le status \215ags using the)-.25 F F1(fcntl)2.662 E F0
(\(2\))A F1(F_GETFL)2.661 E F0 .161
(operation: the returned \215ags will)2.661 F(include the bit)159 278.4
Q F1(O_P)2.5 E -.95(AT)-.74 G(H).95 E F0(.)A(*)144 295.2 Q -.15(Pa)159
295.2 S .228(ssing the \214le descriptor as the).15 F F2(dirfd)3.078 E
F0(ar)2.728 E .228(gument of)-.18 F F1(openat)2.728 E F0 .228
(\(\) and the other "*at\(\)" system calls.)B .295(This includes)159
307.2 R F1(linkat)2.795 E F0 .295(\(2\) with)B F1 -.95(AT)2.795 G
(_EMPTY_P).95 E -.95(AT)-.74 G(H).95 E F0 .294(\(or via procfs using)
2.794 F F1 -.95(AT)2.794 G(_SYMLINK_FOL-).95 E(LO)159 319.2 Q(W)-.5 E F0
2.5(\)e)C -.15(ve)-2.75 G 2.5(ni).15 G 2.5(ft)-2.5 G
(he \214le is not a directory)-2.5 E(.)-.65 E(*)144 336 Q -.15(Pa)159
336 S .463
(ssing the \214le descriptor to another process via a UNIX domain sock)
.15 F .463(et \(see)-.1 F F1(SCM_RIGHTS)2.964 E F0(in)159 348 Q F1(unix)
2.5 E F0(\(7\)\).)A(When)144 364.8 Q F1(O_P)3.128 E -.95(AT)-.74 G(H).95
E F0 .628(is speci\214ed in)3.128 F F2<8d61>5.038 E(gs)-.1 E F0 3.128
<2c8d>.27 G .627(ag bits other than)-3.128 F F1(O_CLOEXEC)3.127 E F0(,)A
F1(O_DIRECT)3.127 E(OR)-.18 E(Y)-.35 E F0 3.127(,a)C(nd)-3.127 E F1
(O_NOFOLLO)144 376.8 Q(W)-.5 E F0(are ignored.)2.5 E .217
(Opening a \214le or directory with the)144 393.6 R F1(O_P)2.717 E -.95
(AT)-.74 G(H).95 E F0 .218
(\215ag requires no permissions on the object itself \(b)2.717 F(ut)-.2
E 1.09(does require e)144 405.6 R -.15(xe)-.15 G 1.09
(cute permission on the directories in the path pre\214x\).).15 F 1.09
(Depending on the subse-)6.09 F .874(quent operation, a check for suita\
ble \214le permissions may be performed \(e.g.,)144 417.6 R F1(fchdir)
3.374 E F0 .874(\(2\) requires)B -.15(exe)144 429.6 S .845(cute permiss\
ion on the directory referred to by its \214le descriptor ar).15 F 3.345
(gument\). By)-.18 F .845(contrast, ob-)3.345 F .123
(taining a reference to a \214lesystem object by opening it with the)144
441.6 R F1(O_RDONL)2.623 E(Y)-.92 E F0 .124(\215ag requires that the)
2.623 F .31(caller ha)144 453.6 R .61 -.15(ve r)-.2 H .31
(ead permission on the object, e).15 F -.15(ve)-.25 G 2.81(nw).15 G .31
(hen the subsequent operation \(e.g.,)-2.81 F F1(fchdir)2.81 E F0
(\(2\),)A F1(fs-)2.81 E(tat)144 465.6 Q F0
(\(2\)\) does not require read permission on the object.)A(If)144 482.4
Q F2(pathname)4.71 E F0 .96(is a symbolic link and the)3.64 F F1
(O_NOFOLLO)3.461 E(W)-.5 E F0 .961
(\215ag is also speci\214ed, then the call re-)3.461 F .633
(turns a \214le descriptor referring to the symbolic link.)144 494.4 R
.633(This \214le descriptor can be used as the)5.633 F F2(dirfd)3.482 E
F0(ar)144 506.4 Q 1.445(gument in calls to)-.18 F F1(fcho)3.945 E(wnat)
-.1 E F0(\(2\),)A F1(fstatat)3.945 E F0(\(2\),)A F1(linkat)3.945 E F0
1.445(\(2\), and)B F1 -.18(re)3.945 G(adlinkat).18 E F0 1.445
(\(2\) with an empty path-)B(name to ha)144 518.4 Q .3 -.15(ve t)-.2 H
(he calls operate on the symbolic link.).15 E(If)144 535.2 Q F2
(pathname)4.055 E F0 .304(refers to an automount point that has not yet\
 been triggered, so no other \214lesystem is)2.985 F .811(mounted on it\
, then the call returns a \214le descriptor referring to the automount \
directory without)144 547.2 R .739(triggering a mount.)144 559.2 R F1
(fstatfs)5.739 E F0 .739
(\(2\) can then be used to determine if it is, in f)B .738
(act, an untriggered auto-)-.1 F(mount point \()144 571.2 Q F1
(.f_type == A)A(UT)-.5 E(OFS_SUPER_MA)-.18 E(GIC)-.55 E F0(\).)A .902
(One use of)144 588 R F1(O_P)3.402 E -.95(AT)-.74 G(H).95 E F0 .902
(for re)3.402 F .902(gular \214les is to pro)-.15 F .902(vide the equi)
-.15 F -.25(va)-.25 G .902(lent of POSIX.1').25 F(s)-.55 E F1(O_EXEC)
3.402 E F0(func-)3.402 E(tionality)144 600 Q 5.069(.T)-.65 G .068
(his permits us to open a \214le for which we ha)-5.069 F .368 -.15
(ve exe)-.2 H .068(cute permission b).15 F .068(ut not read permis-)-.2
F(sion, and then e)144 612 Q -.15(xe)-.15 G
(cute that \214le, with steps something lik).15 E 2.5(et)-.1 G(he follo)
-2.5 E(wing:)-.25 E/F3 10/Courier@0 SF(char buf[PATH_MAX];)164 628.8 Q
(fd = open\("some_prog", O_PATH\);)164 640.8 Q
(snprintf\(buf, PATH_MAX, "/proc/self/fd/%d", fd\);)164 652.8 Q
(execl\(buf, "some_prog", \(char *\) NULL\);)164 664.8 Q F0(An)144 681.6
Q F1(O_P)2.5 E -.95(AT)-.74 G(H).95 E F0
(\214le descriptor can also be passed as the ar)2.5 E(gument of)-.18 E
F1(fexecv)2.5 E(e)-.1 E F0(\(3\).)A F1(O_SYNC)108 698.4 Q F0 .601(Write\
 operations on the \214le will complete according to the requirements o\
f synchronized I/O)144 710.4 R F2(\214le)5.012 E F0(inte)144 722.4 Q
.258(grity completion \(by contrast with the synchronized I/O)-.15 F F2
(data)3.107 E F0(inte)3.017 E .257(grity completion pro)-.15 F .257
(vided by)-.15 F 184.28(Linux 2020-11-01)72 768 R(5)205.67 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10/Times-Bold@0 SF
(O_DSYNC)144 84 Q F0(.\))A .91(By the time)144 100.8 R F1(write)3.41 E
F0 .91(\(2\) \(or similar\) returns, the output data and associated \
\214le metadata ha)B 1.21 -.15(ve b)-.2 H(een).15 E 1.4
(transferred to the underlying hardw)144 112.8 R 1.4
(are \(i.e., as though each)-.1 F F1(write)3.9 E F0 1.4(\(2\) w)B 1.4
(as follo)-.1 F 1.4(wed by a call to)-.25 F F1(fsync)144 124.8 Q F0
(\(2\)\).)A/F2 10/Times-Italic@0 SF(See NO)5.33 E(TES below)-.4 E F0(.)
.31 E F1(O_TMPFILE)108 141.6 Q F0(\(since Linux 3.11\))2.5 E .747
(Create an unnamed temporary re)144 153.6 R .747(gular \214le.)-.15 F
(The)5.747 E F2(pathname)4.497 E F0(ar)3.427 E .747
(gument speci\214es a directory; an un-)-.18 F .957
(named inode will be created in that directory')144 165.6 R 3.457<738c>
-.55 G 3.457(lesystem. An)-3.457 F .957
(ything written to the resulting \214le)-.15 F(will be lost when the la\
st \214le descriptor is closed, unless the \214le is gi)144 177.6 Q -.15
(ve)-.25 G 2.5(nan).15 G(ame.)-2.5 E F1(O_TMPFILE)144 194.4 Q F0 3.253
(must be speci\214ed with one of)5.752 F F1(O_RD)5.753 E(WR)-.4 E F0(or)
5.753 E F1(O_WR)5.753 E(ONL)-.3 E(Y)-.92 E F0 3.253(and, optionally)
5.753 F(,)-.65 E F1(O_EXCL)144 206.4 Q F0 5.324(.I)C(f)-5.324 E F1
(O_EXCL)2.824 E F0 .324(is not speci\214ed, then)2.824 F F1(linkat)2.824
E F0 .324(\(2\) can be used to link the temporary \214le into)B
(the \214lesystem, making it permanent, using code lik)144 218.4 Q 2.5
(et)-.1 G(he follo)-2.5 E(wing:)-.25 E/F3 10/Courier@0 SF
(char path[PATH_MAX];)164 235.2 Q
(fd = open\("/path/to/dir", O_TMPFILE | O_RDWR,)164 247.2 Q
(S_IRUSR | S_IWUSR\);)308 259.2 Q(/* File I/O on \010fd\010... */)164
283.2 Q(linkat\(fd, NULL, AT_FDCWD, "/path/for/file", AT_EMPTY_PATH\);)
164 307.2 Q(/* If the caller doesn\010t have the CAP_DAC_READ_SEARCH)164
331.2 Q(capability \(needed to use AT_EMPTY_PATH with linkat\(2\)\),)182
343.2 Q(and there is a proc\(5\) filesystem mounted, then the)182 355.2
Q(linkat\(2\) call above can be replaced with:)182 367.2 Q
(snprintf\(path, PATH_MAX,)164 391.2 Q("/proc/self/fd/%d", fd\);)12 E
(linkat\(AT_FDCWD, path, AT_FDCWD, "/path/for/file",)164 403.2 Q
(AT_SYMLINK_FOLLOW\);)308 415.2 Q(*/)164 427.2 Q F0(In this case, the)
144 444 Q F1(open)2.5 E F0(\(\))A F2(mode)2.88 E F0(ar)2.68 E
(gument determines the \214le permission mode, as with)-.18 E F1(O_CREA)
2.5 E(T)-.95 E F0(.)A(Specifying)144 460.8 Q F1(O_EXCL)4.32 E F0 1.821
(in conjunction with)4.321 F F1(O_TMPFILE)4.321 E F0(pre)4.321 E -.15
(ve)-.25 G 1.821(nts a temporary \214le from being).15 F(link)144 472.8
Q .166(ed into the \214lesystem in the abo)-.1 F .465 -.15(ve m)-.15 H
(anner).15 E 5.165(.\()-.55 G .165(Note that the meaning of)-5.165 F F1
(O_EXCL)2.665 E F0 .165(in this case is)2.665 F(dif)144 484.8 Q
(ferent from the meaning of)-.25 E F1(O_EXCL)2.5 E F0(otherwise.\))2.5 E
(There are tw)144 501.6 Q 2.5(om)-.1 G(ain use cases for)-2.5 E F1
(O_TMPFILE)2.5 E F0(:)A(*)144 518.4 Q(Impro)159 518.4 Q -.15(ve)-.15 G
(d).15 E F1(tmp\214le)3.258 E F0 .758(\(3\) functionality: race-free cr\
eation of temporary \214les that \(1\) are automati-)B .868
(cally deleted when closed; \(2\) can ne)159 530.4 R -.15(ve)-.25 G
3.368(rb).15 G 3.368(er)-3.368 G .867(eached via an)-3.368 F 3.367(yp)
-.15 G .867(athname; \(3\) are not subject to)-3.367 F
(symlink attacks; and \(4\) do not require the caller to de)159 542.4 Q
(vise unique names.)-.25 E(*)144 559.2 Q .232
(Creating a \214le that is initially in)159 559.2 R .232
(visible, which is then populated with data and adjusted to ha)-.4 F
-.15(ve)-.2 G 3.125(appropriate \214lesystem attrib)159 571.2 R 3.125
(utes \()-.2 F F1(fcho)A(wn)-.1 E F0(\(2\),)A F1(fchmod)5.625 E F0
(\(2\),)A F1(fsetxattr)5.625 E F0 3.125(\(2\), etc.\))B 3.125
(before being)8.125 F 2.03(atomically link)159 583.2 R 2.031
(ed into the \214lesystem in a fully formed state \(using)-.1 F F1
(linkat)4.531 E F0 2.031(\(2\) as described)B(abo)159 595.2 Q -.15(ve)
-.15 G(\).).15 E F1(O_TMPFILE)144 612 Q F0 1.056(requires support by th\
e underlying \214lesystem; only a subset of Linux \214lesystems)3.556 F
(pro)144 624 Q .847(vide that support.)-.15 F .848
(In the initial implementation, support w)5.848 F .848(as pro)-.1 F .848
(vided in the e)-.15 F .848(xt2, e)-.15 F .848(xt3, e)-.15 F(xt4,)-.15 E
(UDF)144 636 Q 3.161(,M)-.8 G .661(inix, and shmem \214lesystems.)-3.161
F .661(Support for other \214lesystems has subsequently been added)5.661
F(as follo)144 648 Q(ws: XFS \(Linux 3.15\); Btrfs \(Linux 3.16\); F2FS\
 \(Linux 3.16\); and ubifs \(Linux 4.9\))-.25 E F1(O_TR)108 664.8 Q(UNC)
-.3 E F0 .158(If the \214le already e)144 676.8 R .158
(xists and is a re)-.15 F .158(gular \214le and the access mode allo)
-.15 F .159(ws writing \(i.e., is)-.25 F F1(O_RD)2.659 E(WR)-.4 E F0(or)
144 688.8 Q F1(O_WR)2.983 E(ONL)-.3 E(Y)-.92 E F0 2.983(\)i)C 2.983(tw)
-2.983 G .483(ill be truncated to length 0.)-2.983 F .482
(If the \214le is a FIFO or terminal de)5.483 F .482(vice \214le, the)
-.25 F F1(O_TR)144 700.8 Q(UNC)-.3 E F0(\215ag is ignored.)2.5 E
(Otherwise, the ef)5 E(fect of)-.25 E F1(O_TR)2.5 E(UNC)-.3 E F0
(is unspeci\214ed.)2.5 E 184.28(Linux 2020-11-01)72 768 R(6)205.67 E 0
Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10/Times-Bold@0 SF(cr)87
84 Q(eat\(\))-.18 E F0 2.5(Ac)108 96 S(all to)-2.5 E F1(cr)2.5 E(eat)
-.18 E F0(\(\) is equi)A -.25(va)-.25 G(lent to calling).25 E F1(open)
2.5 E F0(\(\) with)A/F2 10/Times-Italic@0 SF<8d61>4.41 E(gs)-.1 E F0
(equal to)2.77 E F1(O_CREA)2.5 E(T|O_WR)-.95 E(ONL)-.3 E(Y|O_TR)-.92 E
(UNC)-.3 E F0(.)A F1(openat\(\))87 112.8 Q F0(The)108 124.8 Q F1(openat)
3.071 E F0 .572(\(\) system call operates in e)B .572(xactly the same w)
-.15 F .572(ay as)-.1 F F1(open)3.072 E F0 .572(\(\), e)B .572
(xcept for the dif)-.15 F .572(ferences described)-.25 F(here.)108 136.8
Q .674(If the pathname gi)108 153.6 R -.15(ve)-.25 G 3.174(ni).15 G(n)
-3.174 E F2(pathname)4.424 E F0 .674(is relati)3.354 F -.15(ve)-.25 G
3.174(,t).15 G .674(hen it is interpreted relati)-3.174 F .974 -.15
(ve t)-.25 H 3.174(ot).15 G .674(he directory referred to by)-3.174 F
1.033(the \214le descriptor)108 165.6 R F2(dirfd)3.883 E F0 1.033
(\(rather than relati)4.303 F 1.333 -.15(ve t)-.25 H 3.533(ot).15 G
1.034(he current w)-3.533 F 1.034
(orking directory of the calling process, as is)-.1 F(done by)108 177.6
Q F1(open)2.5 E F0(\(\) for a relati)A .3 -.15(ve p)-.25 H(athname\).)
.15 E(If)108 194.4 Q F2(pathname)3.842 E F0 .092(is relati)2.772 F .392
-.15(ve a)-.25 H(nd).15 E F2(dirfd)2.942 E F0 .092(is the special v)
3.362 F(alue)-.25 E F1 -.95(AT)2.592 G(_FDCWD).95 E F0 2.592(,t)C(hen)
-2.592 E F2(pathname)3.842 E F0 .092(is interpreted relati)2.772 F .391
-.15(ve t)-.25 H(o).15 E(the current w)108 206.4 Q
(orking directory of the calling process \(lik)-.1 E(e)-.1 E F1(open)2.5
E F0(\(\)\).)A(If)108 223.2 Q F2(pathname)3.75 E F0(is absolute, then)
2.68 E F2(dirfd)2.85 E F0(is ignored.)3.27 E F1(openat2\(2\))87 240 Q F0
(The)108 252 Q F1(openat2)2.558 E F0 .058(\(2\) system call is an e)B
.058(xtension of)-.15 F F1(openat)2.558 E F0 .058(\(\), and pro)B .058
(vides a superset of the features of)-.15 F F1(openat)2.559 E F0(\(\).)A
(It is documented separately)108 264 Q 2.5(,i)-.65 G(n)-2.5 E F1
(openat2)2.5 E F0(\(2\).)A/F3 10.95/Times-Bold@0 SF(RETURN V)72 280.8 Q
(ALUE)-1.478 E F1(open)108 292.8 Q F0(\(\),)A F1(openat)3.539 E F0 1.039
(\(\), and)B F1(cr)3.539 E(eat)-.18 E F0 1.039(\(\) return the ne)B
3.539<778c>-.25 G 1.039(le descriptor \(a nonne)-3.539 F -.05(ga)-.15 G
(ti).05 E 1.339 -.15(ve i)-.25 H(nte).15 E 1.039
(ger\), or \2551 if an error oc-)-.15 F(curred \(in which case,)108
304.8 Q F2(errno)2.69 E F0(is set appropriately\).)2.68 E F3(ERR)72
321.6 Q(ORS)-.329 E F1(open)108 333.6 Q F0(\(\),)A F1(openat)2.5 E F0
(\(\), and)A F1(cr)2.5 E(eat)-.18 E F0(\(\) can f)A(ail with the follo)
-.1 E(wing errors:)-.25 E F1(EA)108 350.4 Q(CCES)-.55 E F0 .244
(The requested access to the \214le is not allo)144 362.4 R .244
(wed, or search permission is denied for one of the direc-)-.25 F .253
(tories in the path pre\214x of)144 374.4 R F2(pathname)4.003 E F0 2.753
(,o).18 G 2.753(rt)-2.753 G .253(he \214le did not e)-2.753 F .252
(xist yet and write access to the parent di-)-.15 F(rectory is not allo)
144 386.4 Q 2.5(wed. \(See)-.25 F(also)2.5 E F1(path_r)2.5 E(esolution)
-.18 E F0(\(7\).\))A F1(EA)108 403.2 Q(CCES)-.55 E F0(Where)144 415.2 Q
F1(O_CREA)2.93 E(T)-.95 E F0 .43(is speci\214ed, the)2.93 F F2(pr)4.18 E
(otected_\214fos)-.45 E F0(or)3.2 E F2(pr)4.18 E(otected_r)-.45 E -.4
(eg)-.37 G(ular).4 E F0 .43(sysctl is enabled, the \214le)3.66 F .373
(already e)144 427.2 R .373(xists and is a FIFO or re)-.15 F .373
(gular \214le, the o)-.15 F .373
(wner of the \214le is neither the current user nor the)-.25 F -.25(ow)
144 439.2 S 1.099(ner of the containing directory).25 F 3.599(,a)-.65 G
1.099(nd the containing directory is both w)-3.599 F 1.1
(orld- or group-writable)-.1 F 1.619(and stick)144 451.2 R 5.419 -.65
(y. F)-.15 H 1.619(or details, see the descriptions of).5 F F2(/pr)5.269
E(oc/sys/fs/pr)-.45 E(otected_\214fos)-.45 E F0(and)4.119 E F2(/pr)5.269
E(oc/sys/fs/pr)-.45 E(o-)-.45 E(tected_r)144 463.2 Q -.4(eg)-.37 G(ular)
.4 E F0(in)2.5 E F1(pr)2.5 E(oc)-.18 E F0(\(5\).)A F1(EB)108 480 Q(USY)
-.1 E(O_EXCL)144 492 Q F0 -.1(wa)3.123 G 3.123(ss).1 G .623
(peci\214ed in)-3.123 F F2<8d61>5.033 E(gs)-.1 E F0(and)3.393 E F2
(pathname)4.373 E F0 .623(refers to a block de)3.303 F .624
(vice that is in use by the sys-)-.25 F(tem \(e.g., it is mounted\).)144
504 Q F1(EDQ)108 520.8 Q(UO)-.1 E(T)-.4 E F0(Where)144 532.8 Q F1
(O_CREA)2.512 E(T)-.95 E F0 .011(is speci\214ed, the \214le does not e)
2.512 F .011(xist, and the user')-.15 F 2.511(sq)-.55 G .011
(uota of disk blocks or inodes)-2.511 F(on the \214lesystem has been e)
144 544.8 Q(xhausted.)-.15 E F1(EEXIST)108 561.6 Q F2(pathname)145.25
573.6 Q F0(already e)2.68 E(xists and)-.15 E F1(O_CREA)2.5 E(T)-.95 E F0
(and)2.5 E F1(O_EXCL)2.5 E F0(were used.)2.5 E F1(EF)108 590.4 Q -.5(AU)
-.9 G -.92(LT).5 G F2(pathname)145.25 602.4 Q F0
(points outside your accessible address space.)2.68 E F1(EFBIG)108 619.2
Q F0(See)144 631.2 Q F1(EO)2.5 E(VERFLO)-.5 E(W)-.5 E F0(.)A F1(EINTR)
108 648 Q F0 1.017(While block)144 660 R 1.017(ed w)-.1 F 1.017
(aiting to complete an open of a slo)-.1 F 3.518(wd)-.25 G -.25(ev)
-3.518 G 1.018(ice \(e.g., a FIFO; see).25 F F1<8c66>3.518 E(o)-.25 E F0
1.018(\(7\)\), the call)B -.1(wa)144 672 S 2.5(si).1 G
(nterrupted by a signal handler; see)-2.5 E F1(signal)2.5 E F0(\(7\).)A
F1(EINV)108 688.8 Q(AL)-1.35 E F0(The \214lesystem does not support the)
144 700.8 Q F1(O_DIRECT)2.5 E F0 2.5(\215ag. See)2.5 F F1(NO)2.5 E(TES)
-.4 E F0(for more information.)2.5 E 184.28(Linux 2020-11-01)72 768 R(7)
205.67 E 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10/Times-Bold@0 SF(EINV)
108 84 Q(AL)-1.35 E F0(In)144 96 Q -.25(va)-.4 G(lid v).25 E(alue in)
-.25 E/F2 10/Times-Italic@0 SF<8d61>4.41 E(gs)-.1 E F0(.).27 E F1(EINV)
108 112.8 Q(AL)-1.35 E(O_TMPFILE)144 124.8 Q F0 -.1(wa)2.5 G 2.5(ss).1 G
(peci\214ed in)-2.5 E F2<8d61>4.41 E(gs)-.1 E F0 2.5(,b).27 G
(ut neither)-2.7 E F1(O_WR)2.5 E(ONL)-.3 E(Y)-.92 E F0(nor)2.5 E F1
(O_RD)2.5 E(WR)-.4 E F0 -.1(wa)2.5 G 2.5(ss).1 G(peci\214ed.)-2.5 E F1
(EINV)108 141.6 Q(AL)-1.35 E(O_CREA)144 153.6 Q(T)-.95 E F0 -.1(wa)3.395
G 3.395(ss).1 G .895(peci\214ed in)-3.395 F F2<8d61>5.305 E(gs)-.1 E F0
.894(and the \214nal component \("basename"\) of the ne)3.664 F 3.394
<778c>-.25 G(le')-3.394 E(s)-.55 E F2(path-)4.644 E(name)144 165.6 Q F0
(is in)2.68 E -.25(va)-.4 G(lid \(e.g., it contains characters not perm\
itted by the underlying \214lesystem\).).25 E F1(EINV)108 182.4 Q(AL)
-1.35 E F0 .505(The \214nal component \("basename"\) of)144 194.4 R F2
(pathname)4.255 E F0 .505(is in)3.185 F -.25(va)-.4 G .506
(lid \(e.g., it contains characters not permit-).25 F
(ted by the underlying \214lesystem\).)144 206.4 Q F1(EISDIR)108 223.2 Q
F2(pathname)145.25 235.2 Q F0 .135
(refers to a directory and the access requested in)2.815 F -.2(vo)-.4 G
(lv).2 E .135(ed writing \(that is,)-.15 F F1(O_WR)2.635 E(ONL)-.3 E(Y)
-.92 E F0(or)2.635 E F1(O_RD)144 247.2 Q(WR)-.4 E F0(is set\).)2.5 E F1
(EISDIR)108 264 Q F2(pathname)145.25 276 Q F0 .841(refers to an e)3.52 F
.841(xisting directory)-.15 F(,)-.65 E F1(O_TMPFILE)3.341 E F0 .841
(and one of)3.341 F F1(O_WR)3.341 E(ONL)-.3 E(Y)-.92 E F0(or)3.341 E F1
(O_RD)3.341 E(WR)-.4 E F0(were speci\214ed in)144 288 Q F2<8d61>4.41 E
(gs)-.1 E F0 2.5(,b).27 G(ut this k)-2.7 E(ernel v)-.1 E
(ersion does not pro)-.15 E(vide the)-.15 E F1(O_TMPFILE)2.5 E F0
(functionality)2.5 E(.)-.65 E F1(ELOOP)108 304.8 Q F0 -.8(To)144 316.8 S
2.5(om).8 G(an)-2.5 E 2.5(ys)-.15 G
(ymbolic links were encountered in resolving)-2.5 E F2(pathname)3.75 E
F0(.).18 E F1(ELOOP)108 333.6 Q F2(pathname)145.25 345.6 Q F0 -.1(wa)
2.68 G 2.5(sas).1 G(ymbolic link, and)-2.5 E F2<8d61>4.41 E(gs)-.1 E F0
(speci\214ed)2.77 E F1(O_NOFOLLO)2.5 E(W)-.5 E F0 -.2(bu)2.5 G 2.5(tn).2
G(ot)-2.5 E F1(O_P)2.5 E -.95(AT)-.74 G(H).95 E F0(.)A F1(EMFILE)108
362.4 Q F0 .327(The per)144 374.4 R .327(-process limit on the number o\
f open \214le descriptors has been reached \(see the description)-.2 F
(of)144 386.4 Q F1(RLIMIT_NOFILE)2.5 E F0(in)2.5 E F1(getrlimit)2.5 E F0
(\(2\)\).)A F1(EN)108 403.2 Q(AMET)-.2 E(OOLONG)-.18 E F2(pathname)
145.25 415.2 Q F0 -.1(wa)2.68 G 2.5(st).1 G(oo long.)-2.5 E F1(ENFILE)
108 432 Q F0(The system-wide limit on the total number of open \214les \
has been reached.)144 444 Q F1(ENODEV)108 460.8 Q F2(pathname)145.25
472.8 Q F0 .419(refers to a de)3.099 F .419
(vice special \214le and no corresponding de)-.25 F .42(vice e)-.25 F
2.92(xists. \(This)-.15 F .42(is a Linux k)2.92 F(er)-.1 E(-)-.2 E
(nel b)144 484.8 Q(ug; in this situation)-.2 E F1(ENXIO)2.5 E F0
(must be returned.\))2.5 E F1(ENOENT)108 501.6 Q(O_CREA)144 513.6 Q(T)
-.95 E F0(is not set and the named \214le does not e)2.5 E(xist.)-.15 E
F1(ENOENT)108 530.4 Q F0 2.5(Ad)144 542.4 S(irectory component in)-2.5 E
F2(pathname)3.75 E F0(does not e)2.68 E
(xist or is a dangling symbolic link.)-.15 E F1(ENOENT)108 559.2 Q F2
(pathname)145.25 571.2 Q F0 .054(refers to a none)2.735 F .054
(xistent directory)-.15 F(,)-.65 E F1(O_TMPFILE)2.554 E F0 .054
(and one of)2.554 F F1(O_WR)2.554 E(ONL)-.3 E(Y)-.92 E F0(or)2.554 E F1
(O_RD)2.554 E(WR)-.4 E F0(were speci\214ed in)144 583.2 Q F2<8d61>4.41 E
(gs)-.1 E F0 2.5(,b).27 G(ut this k)-2.7 E(ernel v)-.1 E
(ersion does not pro)-.15 E(vide the)-.15 E F1(O_TMPFILE)2.5 E F0
(functionality)2.5 E(.)-.65 E F1(ENOMEM)108 600 Q F0 .353
(The named \214le is a FIFO, b)144 612 R .354(ut memory for the FIFO b)
-.2 F(uf)-.2 E .354(fer can')-.25 F 2.854(tb)-.18 G 2.854(ea)-2.854 G
.354(llocated because the per)-2.854 F(-user)-.2 E 1.029(hard limit on \
memory allocation for pipes has been reached and the caller is not pri)
144 624 R(vile)-.25 E 1.029(ged; see)-.15 F F1(pipe)144 636 Q F0(\(7\).)
A F1(ENOMEM)108 652.8 Q F0(Insuf)144 664.8 Q(\214cient k)-.25 E
(ernel memory w)-.1 E(as a)-.1 E -.25(va)-.2 G(ilable.).25 E F1(ENOSPC)
108 681.6 Q F2(pathname)145.25 693.6 Q F0 -.1(wa)2.68 G 2.5(st).1 G 2.5
(ob)-2.5 G 2.5(ec)-2.5 G(reated b)-2.5 E(ut the de)-.2 E
(vice containing)-.25 E F2(pathname)3.75 E F0(has no room for the ne)
2.68 E 2.5<778c>-.25 G(le.)-2.5 E 184.28(Linux 2020-11-01)72 768 R(8)
205.67 E 0 Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10/Times-Bold@0 SF(ENO)
108 84 Q(TDIR)-.4 E F0 2.615(Ac)144 96 S .115
(omponent used as a directory in)-2.615 F/F2 10/Times-Italic@0 SF
(pathname)3.865 E F0 .115(is not, in f)2.795 F .115(act, a directory)-.1
F 2.615(,o)-.65 G(r)-2.615 E F1(O_DIRECT)2.615 E(OR)-.18 E(Y)-.35 E F0
-.1(wa)2.615 G(s).1 E(speci\214ed and)144 108 Q F2(pathname)3.75 E F0
-.1(wa)2.68 G 2.5(sn).1 G(ot a directory)-2.5 E(.)-.65 E F1(ENXIO)108
124.8 Q(O_NONBLOCK)144 136.8 Q F0(|)3.522 E F1(O_WR)3.522 E(ONL)-.3 E(Y)
-.92 E F0 1.021
(is set, the named \214le is a FIFO, and no process has the FIFO)3.522 F
(open for reading.)144 148.8 Q F1(ENXIO)108 165.6 Q F0
(The \214le is a de)144 177.6 Q
(vice special \214le and no corresponding de)-.25 E(vice e)-.25 E
(xists.)-.15 E F1(ENXIO)108 194.4 Q F0(The \214le is a UNIX domain sock)
144 206.4 Q(et.)-.1 E F1(EOPNO)108 223.2 Q(TSUPP)-.4 E F0
(The \214lesystem containing)144 235.2 Q F2(pathname)3.75 E F0
(does not support)2.68 E F1(O_TMPFILE)2.5 E F0(.)A F1(EO)108 252 Q
(VERFLO)-.5 E(W)-.5 E F2(pathname)145.25 264 Q F0 .423(refers to a re)
3.103 F .423(gular \214le that is too lar)-.15 F .423(ge to be opened.)
-.18 F .423(The usual scenario here is that an)5.423 F .968
(application compiled on a 32-bit platform without)144 276 R F2
(\255D_FILE_OFFSET_BITS=64)3.108 E F0 .968(tried to open a)3.758 F .13
(\214le whose size e)144 288 R(xceeds)-.15 E F2(\(1<<31\)-1)2.71 E F0
.13(bytes; see also)2.63 F F1(O_LARGEFILE)2.63 E F0(abo)2.63 E -.15(ve)
-.15 G 5.13(.T).15 G .13(his is the error spec-)-5.13 F
(i\214ed by POSIX.1; in k)144 300 Q(ernels before 2.6.24, Linux g)-.1 E
-2.25 -.2(av e)-.05 H(the error)2.7 E F1(EFBIG)2.5 E F0(for this case.)
2.5 E F1(EPERM)108 316.8 Q F0(The)144 328.8 Q F1(O_NO)3.77 E -.95(AT)-.4
G(IME).95 E F0 1.27(\215ag w)3.77 F 1.27(as speci\214ed, b)-.1 F 1.27
(ut the ef)-.2 F(fecti)-.25 E 1.569 -.15(ve u)-.25 H 1.269
(ser ID of the caller did not match the).15 F -.25(ow)144 340.8 S
(ner of the \214le and the caller w).25 E(as not pri)-.1 E(vile)-.25 E
(ged.)-.15 E F1(EPERM)108 357.6 Q F0(The operation w)144 369.6 Q(as pre)
-.1 E -.15(ve)-.25 G(nted by a \214le seal; see).15 E F1(fcntl)2.5 E F0
(\(2\).)A F1(ER)108 386.4 Q(OFS)-.3 E F2(pathname)145.25 398.4 Q F0
(refers to a \214le on a read-only \214lesystem and write access w)2.68
E(as requested.)-.1 E F1(ETXTBSY)108 415.2 Q F2(pathname)145.25 427.2 Q
F0 .9(refers to an e)3.58 F -.15(xe)-.15 G .9
(cutable image which is currently being e).15 F -.15(xe)-.15 G .9
(cuted and write access w).15 F(as)-.1 E(requested.)144 439.2 Q F1
(ETXTBSY)108 456 Q F2(pathname)145.25 468 Q F0 .183
(refers to a \214le that is currently in use as a sw)2.863 F .182
(ap \214le, and the)-.1 F F1(O_TR)2.682 E(UNC)-.3 E F0 .182(\215ag w)
2.682 F .182(as speci-)-.1 F(\214ed.)144 480 Q F1(ETXTBSY)108 496.8 Q F2
(pathname)145.25 508.8 Q F0 .112
(refers to a \214le that is currently being read by the k)2.792 F .113
(ernel \(e.g., for module/\214rmw)-.1 F .113(are load-)-.1 F
(ing\), and write access w)144 520.8 Q(as requested.)-.1 E F1(EW)108
537.6 Q(OULDBLOCK)-.1 E F0(The)144 549.6 Q F1(O_NONBLOCK)3.325 E F0 .825
(\215ag w)3.325 F .825(as speci\214ed, and an incompatible lease w)-.1 F
.824(as held on the \214le \(see)-.1 F F1(fc-)3.324 E(ntl)144 561.6 Q F0
(\(2\)\).)A(The follo)108 578.4 Q(wing additional errors can occur for)
-.25 E F1(openat)2.5 E F0(\(\):)A F1(EB)108 595.2 Q(ADF)-.3 E F2(dirfd)
144.35 607.2 Q F0(is not a v)3.27 E(alid \214le descriptor)-.25 E(.)-.55
E F1(ENO)108 624 Q(TDIR)-.4 E F2(pathname)145.25 636 Q F0 .341
(is a relati)3.021 F .641 -.15(ve p)-.25 H .341(athname and).15 F F2
(dirfd)3.191 E F0 .342
(is a \214le descriptor referring to a \214le other than a direc-)3.612
F(tory)144 648 Q(.)-.65 E/F3 10.95/Times-Bold@0 SF(VERSIONS)72 664.8 Q
F1(openat)108 676.8 Q F0(\(\) w)A(as added to Linux in k)-.1 E
(ernel 2.6.16; library support w)-.1 E(as added to glibc in v)-.1 E
(ersion 2.4.)-.15 E F3(CONFORMING T)72 693.6 Q(O)-.197 E F1(open)108
705.6 Q F0(\(\),)A F1(cr)2.5 E(eat)-.18 E F0
(\(\) SVr4, 4.3BSD, POSIX.1-2001, POSIX.1-2008.)A F1(openat)108 722.4 Q
F0(\(\): POSIX.1-2008.)A 184.28(Linux 2020-11-01)72 768 R(9)205.67 E 0
Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F/F1 10/Times-Bold@0 SF
(openat2)108 84 Q F0(\(2\) is Linux-speci\214c.)A(The)108 100.8 Q F1
(O_DIRECT)2.809 E F0(,)A F1(O_NO)2.809 E -.95(AT)-.4 G(IME).95 E F0(,)A
F1(O_P)2.808 E -.95(AT)-.74 G(H).95 E F0 2.808(,a)C(nd)-2.808 E F1
(O_TMPFILE)2.808 E F0 .308(\215ags are Linux-speci\214c.)2.808 F .308
(One must de\214ne)5.308 F F1(_GNU_SOURCE)108 112.8 Q F0
(to obtain their de\214nitions.)2.5 E(The)108 129.6 Q F1(O_CLOEXEC)3.97
E F0(,)A F1(O_DIRECT)3.97 E(OR)-.18 E(Y)-.35 E F0 3.97(,a)C(nd)-3.97 E
F1(O_NOFOLLO)3.97 E(W)-.5 E F0 1.47
(\215ags are not speci\214ed in POSIX.1-2001,)3.97 F -.2(bu)108 141.6 S
3.834(ta).2 G 1.334(re speci\214ed in POSIX.1-2008.)-3.834 F 1.334(Sinc\
e glibc 2.12, one can obtain their de\214nitions by de\214ning either)
6.334 F F1(_POSIX_C_SOURCE)108 153.6 Q F0 .102(with a v)2.602 F .102
(alue greater than or equal to 200809L or)-.25 F F1(_XOPEN_SOURCE)2.602
E F0 .103(with a v)2.602 F(alue)-.25 E 3.799
(greater than or equal to 700.)108 165.6 R 3.799
(In glibc 2.11 and earlier)8.799 F 6.299(,o)-.4 G 3.798
(ne obtains the de\214nitions by de\214ning)-6.299 F F1(_GNU_SOURCE)108
177.6 Q F0(.)A 8.202(As noted in)108 194.4 R F1(featur)10.702 E
(e_test_macr)-.18 E(os)-.18 E F0 8.202
(\(7\), feature test macros such as)B F1(_POSIX_C_SOURCE)10.703 E F0(,)A
F1(_XOPEN_SOURCE)108 206.4 Q F0 2.5(,a)C(nd)-2.5 E F1(_GNU_SOURCE)2.5 E
F0(must be de\214ned before including)2.5 E/F2 10/Times-Italic@0 SF(any)
2.83 E F0(header \214les.)2.82 E/F3 10.95/Times-Bold@0 SF(NO)72 223.2 Q
(TES)-.438 E F0 .595(Under Linux, the)108 235.2 R F1(O_NONBLOCK)3.095 E
F0 .595(\215ag is sometimes used in cases where one w)3.095 F .594
(ants to open b)-.1 F .594(ut does not)-.2 F .44(necessarily ha)108
247.2 R .74 -.15(ve t)-.2 H .44(he intention to read or write.).15 F
-.15(Fo)5.44 G 2.94(re).15 G .441(xample, this may be used to open a de)
-3.09 F .441(vice in order to)-.25 F
(get a \214le descriptor for use with)108 259.2 Q F1(ioctl)2.5 E F0
(\(2\).)A .069(The \(unde\214ned\) ef)108 276 R .069(fect of)-.25 F F1
(O_RDONL)2.569 E 2.569(Y|O)-.92 G(_TR)-2.569 E(UNC)-.3 E F0 -.25(va)
2.568 G .068(ries among implementations.).25 F .068(On man)5.068 F 2.568
(ys)-.15 G .068(ystems the)-2.568 F(\214le is actually truncated.)108
288 Q(Note that)108 304.8 Q F1(open)2.5 E F0(\(\) can open de)A
(vice special \214les, b)-.25 E(ut)-.2 E F1(cr)2.5 E(eat)-.18 E F0
(\(\) cannot create them; use)A F1(mknod)2.5 E F0(\(2\) instead.)A .432
(If the \214le is ne)108 321.6 R .432(wly created, its)-.25 F F2
(st_atime)3.272 E F0(,).18 E F2(st_ctime)3.272 E F0(,).18 E F2(st_mtime)
3.272 E F0 .432(\214elds \(respecti)3.112 F -.15(ve)-.25 G(ly).15 E
2.933(,t)-.65 G .433(ime of last access, time of)-2.933 F 1.381
(last status change, and time of last modi\214cation; see)108 333.6 R F1
(stat)3.881 E F0 1.381
(\(2\)\) are set to the current time, and so are the)B F2(st_ctime)
108.34 345.6 Q F0(and)4.572 E F2(st_mtime)4.732 E F0 1.892
(\214elds of the parent directory)4.572 F 6.892(.O)-.65 G 1.893
(therwise, if the \214le is modi\214ed because of the)-6.892 F F1(O_TR)
108 357.6 Q(UNC)-.3 E F0(\215ag, its)2.5 E F2(st_ctime)2.84 E F0(and)
2.68 E F2(st_mtime)2.84 E F0(\214elds are set to the current time.)2.68
E .057(The \214les in the)108 374.4 R F2(/pr)3.707 E(oc/[pid]/fd)-.45 E
F0 .057(directory sho)3.327 F 2.557(wt)-.25 G .057
(he open \214le descriptors of the process with the PID)-2.557 F F2(pid)
3.806 E F0 5.056(.T).77 G(he)-5.056 E 2.253(\214les in the)108 386.4 R
F2(/pr)5.904 E(oc/[pid]/fdinfo)-.45 E F0 2.254(directory sho)4.934 F
4.754(we)-.25 G -.15(ve)-5.004 G 4.754(nm).15 G 2.254
(ore information about these \214le descriptors.)-4.754 F(See)7.254 E F1
(pr)108 398.4 Q(oc)-.18 E F0
(\(5\) for further details of both of these directories.)A .537
(The Linux header \214le)108 415.2 R F1(<asm/fcntl.h>)3.037 E F0(doesn')
3.037 E 3.037(td)-.18 G(e\214ne)-3.037 E F1(O_ASYNC)3.037 E F0 3.037(;t)
C .536(he \(BSD-deri)-3.037 F -.15(ve)-.25 G(d\)).15 E F1 -.9(FA)3.036 G
(SYNC).9 E F0(synon)3.036 E .536(ym is)-.15 F(de\214ned instead.)108
427.2 Q F1(Open \214le descriptions)87 444 Q F0 .464(The term open \214\
le description is the one used by POSIX to refer to the entries in the \
system-wide table of)108 456 R 1.004(open \214les.)108 468 R 1.004
(In other conte)6.004 F 1.004(xts, this object is v)-.15 F 1.004
(ariously also called an "open \214le object", a "\214le handle", an)
-.25 F("open \214le table entry", or\212in k)108 480 Q(ernel-de)-.1 E
-.15(ve)-.25 G(loper parlance\212a).15 E F2(struct \214le)2.84 E F0(.)
.18 E .284(When a \214le descriptor is duplicated \(using)108 496.8 R F1
(dup)2.784 E F0 .285
(\(2\) or similar\), the duplicate refers to the same open \214le de-)B
.067(scription as the original \214le descriptor)108 508.8 R 2.567(,a)
-.4 G .067(nd the tw)-2.567 F 2.567<6f8c>-.1 G .067
(le descriptors consequently share the \214le of)-2.567 F .067
(fset and \214le)-.25 F .042(status \215ags.)108 520.8 R .042(Such shar\
ing can also occur between processes: a child process created via)5.042
F F1 -.25(fo)2.543 G(rk).25 E F0 .043(\(2\) inherits du-)B
(plicates of its parent')108 532.8 Q 2.5<738c>-.55 G(le descriptors, an\
d those duplicates refer to the same open \214le descriptions.)-2.5 E
(Each)108 549.6 Q F1(open)2.86 E F0 .36(\(\) of a \214le creates a ne)B
2.86(wo)-.25 G .36(pen \214le description; thus, there may be multiple \
open \214le descriptions)-2.86 F(corresponding to a \214le inode.)108
561.6 Q 1.158(On Linux, one can use the)108 578.4 R F1(kcmp)3.659 E F0
(\(2\))A F1(KCMP_FILE)3.659 E F0 1.159(operation to test whether tw)
3.659 F 3.659<6f8c>-.1 G 1.159(le descriptors \(in the)-3.659 F
(same process or in tw)108 590.4 Q 2.5(od)-.1 G(if)-2.5 E
(ferent processes\) refer to the same open \214le description.)-.25 E F1
(Synchr)87 607.2 Q(onized I/O)-.18 E F0 .878
(The POSIX.1-2008 "synchronized I/O" option speci\214es dif)108 619.2 R
.877(ferent v)-.25 F .877(ariants of synchronized I/O, and speci-)-.25 F
1.106(\214es the)108 631.2 R F1(open)3.606 E F0 1.106(\(\) \215ags)B F1
(O_SYNC)3.606 E F0(,)A F1(O_DSYNC)3.606 E F0 3.606(,a)C(nd)-3.606 E F1
(O_RSYNC)3.606 E F0 1.106(for controlling the beha)3.606 F(vior)-.2 E
6.107(.R)-.55 G -2.25 -.15(eg a)-6.107 H 1.107(rdless of).15 F 1.056(wh\
ether an implementation supports this option, it must at least support \
the use of)108 643.2 R F1(O_SYNC)3.556 E F0 1.056(for re)3.556 F(gular)
-.15 E(\214les.)108 655.2 Q 1.52(Linux implements)108 672 R F1(O_SYNC)
4.021 E F0(and)4.021 E F1(O_DSYNC)4.021 E F0 4.021(,b)C 1.521(ut not)
-4.221 F F1(O_RSYNC)4.021 E F0 6.521(.S)C(ome)-6.521 E 1.521
(what incorrectly)-.25 F 4.021(,g)-.65 G 1.521(libc de\214nes)-4.021 F
F1(O_RSYNC)108 684 Q F0 .321(to ha)2.821 F .621 -.15(ve t)-.2 H .321
(he same v).15 F .321(alue as)-.25 F F1(O_SYNC)2.821 E F0 5.321(.\()C F1
(O_RSYNC)-5.321 E F0 .32(is de\214ned in the Linux header \214le)2.821 F
F2(<asm/fc-)2.48 E(ntl.h>)108 696 Q F0(on HP P)2.5 E(A-RISC, b)-.92 E
(ut it is not used.\))-.2 E F1(O_SYNC)108 712.8 Q F0(pro)2.519 E .019
(vides synchronized I/O)-.15 F F2(\214le)4.429 E F0(inte)2.699 E .019
(grity completion, meaning write operations will \215ush data and)-.15 F
.757(all associated metadata to the underlying hardw)108 724.8 R(are.)
-.1 E F1(O_DSYNC)5.757 E F0(pro)3.257 E .756(vides synchronized I/O)-.15
F F2(data)3.606 E F0(inte)3.516 E(grity)-.15 E 184.28(Linux 2020-11-01)
72 768 R(10)200.67 E 0 Cg EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F .507(completion, meaning wr\
ite operations will \215ush data to the underlying hardw)108 84 R .508
(are, b)-.1 F .508(ut will only \215ush meta-)-.2 F .191
(data updates that are required to allo)108 96 R 2.691(was)-.25 G .19
(ubsequent read operation to complete successfully)-2.691 F 5.19(.D)-.65
G .19(ata inte)-5.19 F(grity)-.15 E .593(completion can reduce the numb\
er of disk operations that are required for applications that don')108
108 R 3.094(tn)-.18 G .594(eed the)-3.094 F(guarantees of \214le inte)
108 120 Q(grity completion.)-.15 E 1.722 -.8(To u)108 136.8 T .122
(nderstand the dif).8 F .122(ference between the tw)-.25 F 2.622(ot)-.1
G .122(ypes of completion, consider tw)-2.622 F 2.622(op)-.1 G .122
(ieces of \214le metadata: the)-2.622 F .266
(\214le last modi\214cation timestamp \()108 148.8 R/F1 10
/Times-Italic@0 SF(st_mtime).34 E F0 2.767(\)a).18 G .267
(nd the \214le length.)-2.767 F .267
(All write operations will update the last \214le)5.267 F .352
(modi\214cation timestamp, b)108 160.8 R .351(ut only writes that add d\
ata to the end of the \214le will change the \214le length.)-.2 F(The)
5.351 E .12(last modi\214cation timestamp is not needed to ensure that \
a read completes successfully)108 172.8 R 2.621(,b)-.65 G .121
(ut the \214le length is.)-2.821 F(Thus,)108 184.8 Q/F2 10/Times-Bold@0
SF(O_DSYNC)3.785 E F0 -.1(wo)3.785 G 1.284(uld only guarantee to \215us\
h updates to the \214le length metadata \(whereas).1 F F2(O_SYNC)3.784 E
F0 -.1(wo)108 196.8 S(uld also al).1 E -.1(wa)-.1 G
(ys \215ush the last modi\214cation timestamp metadata\).).1 E .38
(Before Linux 2.6.33, Linux implemented only the)108 213.6 R F2(O_SYNC)
2.88 E F0 .38(\215ag for)2.88 F F2(open)2.88 E F0 2.88(\(\). Ho)B(we)
-.25 E -.15(ve)-.25 G 1.18 -.4(r, w).15 H .38(hen that \215ag w).4 F(as)
-.1 E .625(speci\214ed, most \214lesystems actually pro)108 225.6 R .625
(vided the equi)-.15 F -.25(va)-.25 G .625(lent of synchronized I/O).25
F F1(data)3.475 E F0(inte)3.385 E .625(grity completion)-.15 F(\(i.e.,)
108 237.6 Q F2(O_SYNC)2.5 E F0 -.1(wa)2.5 G 2.5(sa).1 G
(ctually implemented as the equi)-2.5 E -.25(va)-.25 G(lent of).25 E F2
(O_DSYNC)2.5 E F0(\).)A .023(Since Linux 2.6.33, proper)108 254.4 R F2
(O_SYNC)2.524 E F0 .024(support is pro)2.524 F 2.524(vided. Ho)-.15 F
(we)-.25 E -.15(ve)-.25 G .824 -.4(r, t).15 H 2.524(oe).4 G .024
(nsure backw)-2.524 F .024(ard binary compatibil-)-.1 F(ity)108 266.4 Q
(,)-.65 E F2(O_DSYNC)2.539 E F0 -.1(wa)2.539 G 2.539(sd).1 G .038
(e\214ned with the same v)-2.539 F .038(alue as the historical)-.25 F F2
(O_SYNC)2.538 E F0 2.538(,a)C(nd)-2.538 E F2(O_SYNC)2.538 E F0 -.1(wa)
2.538 G 2.538(sd).1 G .038(e\214ned as a)-2.538 F(ne)108 278.4 Q 3.302
(w\()-.25 G(tw)-3.302 E .802(o-bit\) \215ag v)-.1 F .802
(alue that includes the)-.25 F F2(O_DSYNC)3.302 E F0 .802(\215ag v)3.302
F 3.302(alue. This)-.25 F .803(ensures that applications compiled)3.302
F(ag)108 290.4 Q(ainst ne)-.05 E 2.5(wh)-.25 G(eaders get at least)-2.5
E F2(O_DSYNC)2.5 E F0(semantics on pre-2.6.33 k)2.5 E(ernels.)-.1 E F2
2.5(Cl)87 307.2 S(ibrary/k)-2.5 E(er)-.1 E(nel differ)-.15 E(ences)-.18
E F0 .267(Since v)108 319.2 R .267
(ersion 2.26, the glibc wrapper function for)-.15 F F2(open)2.766 E F0
.266(\(\) emplo)B .266(ys the)-.1 F F2(openat)2.766 E F0 .266
(\(\) system call, rather than the)B -.1(ke)108 331.2 S(rnel').1 E(s)
-.55 E F2(open)2.5 E F0(\(\) system call.)A -.15(Fo)5 G 2.5(rc).15 G
(ertain architectures, this is also true in glibc v)-2.5 E
(ersions before 2.26.)-.15 E F2(NFS)87 348 Q F0 2.624(There are man)108
360 R 5.124(yi)-.15 G 2.625
(nfelicities in the protocol underlying NFS, af)-5.124 F 2.625
(fecting amongst others)-.25 F F2(O_SYNC)5.125 E F0(and)5.125 E F2
(O_NDELA)108 372 Q(Y)-1 E F0(.)A 1.79
(On NFS \214lesystems with UID mapping enabled,)108 388.8 R F2(open)
4.289 E F0 1.789(\(\) may return a \214le descriptor b)B 1.789
(ut, for e)-.2 F(xample,)-.15 E F2 -.18(re)108 400.8 S(ad).18 E F0 1.131
(\(2\) requests are denied with)B F2(EA)3.631 E(CCES)-.55 E F0 6.131(.T)
C 1.131(his is because the client performs)-6.131 F F2(open)3.632 E F0
1.132(\(\) by checking the)B(permissions, b)108 412.8 Q
(ut UID mapping is performed by the serv)-.2 E
(er upon read and write requests.)-.15 E F2(FIFOs)87 429.6 Q F0 .771(Op\
ening the read or write end of a FIFO blocks until the other end is als\
o opened \(by another process or)108 441.6 R 2.5(thread\). See)108 453.6
R F2<8c66>2.5 E(o)-.25 E F0(\(7\) for further details.)A F2
(File access mode)87 470.4 Q F0(Unlik)108 482.4 Q 2.536(et)-.1 G .036
(he other v)-2.536 F .036(alues that can be speci\214ed in)-.25 F F1
<8d61>4.446 E(gs)-.1 E F0 2.536(,t).27 G(he)-2.536 E F1 .036
(access mode)2.866 F F0 -.25(va)2.716 G(lues).25 E F2(O_RDONL)2.536 E(Y)
-.92 E F0(,)A F2(O_WR)2.536 E(ONL)-.3 E(Y)-.92 E F0(,)A(and)108 494.4 Q
F2(O_RD)3.109 E(WR)-.4 E F0 .609(do not specify indi)3.109 F .609
(vidual bits.)-.25 F(Rather)5.609 E 3.109(,t)-.4 G(he)-3.109 E 3.109(yd)
-.15 G .609(e\214ne the lo)-3.109 F 3.109(wo)-.25 G .609(rder tw)-3.109
F 3.109(ob)-.1 G .609(its of)-3.109 F F1<8d61>5.019 E(gs)-.1 E F0 3.108
(,a).27 G .608(nd are)-3.108 F .08(de\214ned respecti)108 506.4 R -.15
(ve)-.25 G .08(ly as 0, 1, and 2.).15 F .081(In other w)5.08 F .081
(ords, the combination)-.1 F F2(O_RDONL)2.581 E 2.581(Y|O)-.92 G(_WR)
-2.581 E(ONL)-.3 E(Y)-.92 E F0 .081(is a logi-)2.581 F(cal error)108
518.4 Q 2.5(,a)-.4 G(nd certainly does not ha)-2.5 E .3 -.15(ve t)-.2 H
(he same meaning as).15 E F2(O_RD)2.5 E(WR)-.4 E F0(.)A 1.122
(Linux reserv)108 535.2 R 1.121
(es the special, nonstandard access mode 3 \(binary 11\) in)-.15 F F1
<8d61>5.531 E(gs)-.1 E F0 1.121(to mean: check for read and)3.891 F .367
(write permission on the \214le and return a \214le descriptor that can\
')108 547.2 R 2.867(tb)-.18 G 2.867(eu)-2.867 G .367
(sed for reading or writing.)-2.867 F .367(This non-)5.367 F .105
(standard access mode is used by some Linux dri)108 559.2 R -.15(ve)-.25
G .104(rs to return a \214le descriptor that is to be used only for de-)
.15 F(vice-speci\214c)108 571.2 Q F2(ioctl)2.5 E F0(\(2\) operations.)A
F2(Rationale f)87 588 Q(or openat\(\) and other dir)-.25 E
(ectory \214le descriptor APIs)-.18 E(openat)108 600 Q F0 .269
(\(\) and the other system calls and library functions that tak)B 2.769
(ead)-.1 G .269(irectory \214le descriptor ar)-2.769 F .269
(gument \(i.e.,)-.18 F F2(execv)108 612 Q(eat)-.1 E F0(\(2\),)A F2
(faccessat)4.816 E F0(\(2\),)A F2(fanotify_mark)4.816 E F0(\(2\),)A F2
(fchmodat)4.816 E F0(\(2\),)A F2(fcho)4.816 E(wnat)-.1 E F0(\(2\),)A F2
(fspick)4.816 E F0(\(2\),)A F2(fstatat)4.815 E F0(\(2\),)A F2(futime-)
4.815 E(sat)108 624 Q F0(\(2\),)A F2(linkat)3.244 E F0(\(2\),)A F2
(mkdirat)3.244 E F0(\(2\),)A F2(mo)3.244 E -.1(ve)-.1 G(_mount).1 E F0
(\(2\),)A F2(mknodat)3.244 E F0(\(2\),)A F2(name_to_handle_at)3.244 E F0
(\(2\),)A F2(open_tr)3.245 E(ee)-.18 E F0(\(2\),)A F2(ope-)3.245 E(nat2)
108 636 Q F0(\(2\),)A F2 -.18(re)2.972 G(adlinkat).18 E F0(\(2\),)A F2
-.18(re)2.972 G(nameat).18 E F0(\(2\),)A F2(statx)2.971 E F0(\(2\),)A F2
(symlinkat)2.971 E F0(\(2\),)A F2(unlinkat)2.971 E F0(\(2\),)A F2
(utimensat)2.971 E F0(\(2\),)A F2(mk\214f)2.971 E(oat)-.25 E F0 .471
(\(3\), and)B F2(scandirat)108 648 Q F0 .511(\(3\)\) address tw)B 3.011
(op)-.1 G .511(roblems with the older interf)-3.011 F .512
(aces that preceded them.)-.1 F .512(Here, the e)5.512 F .512
(xplanation is)-.15 F(in terms of the)108 660 Q F2(openat)2.5 E F0
(\(\) call, b)A(ut the rationale is analogous for the other interf)-.2 E
(aces.)-.1 E(First,)108 676.8 Q F2(openat)3.172 E F0 .672(\(\) allo)B
.672(ws an application to a)-.25 F -.2(vo)-.2 G .672
(id race conditions that could occur when using).2 F F2(open)3.172 E F0
.671(\(\) to open)B .461
(\214les in directories other than the current w)108 688.8 R .461
(orking directory)-.1 F 5.461(.T)-.65 G .461
(hese race conditions result from the f)-5.461 F .462(act that)-.1 F
1.893(some component of the directory pre\214x gi)108 700.8 R -.15(ve)
-.25 G 4.393(nt).15 G(o)-4.393 E F2(open)4.393 E F0 1.893
(\(\) could be changed in parallel with the call to)B F2(open)108 712.8
Q F0 2.923(\(\). Suppose,)B .423(for e)2.923 F .423
(xample, that we wish to create the \214le)-.15 F F1(dir1/dir2/xxx.dep)
3.273 E F0 .423(if the \214le)3.113 F F1(dir1/dir2/xxx)3.274 E F0 -.15
(ex)3.454 G(-).15 E 2.948(ists. The)108 724.8 R .447
(problem is that between the e)2.947 F .447
(xistence check and the \214le-creation step,)-.15 F F1(dir1)3.297 E F0
(or)2.947 E F1(dir2)3.297 E F0 .447(\(which might)2.967 F 184.28
(Linux 2020-11-01)72 768 R(11)200.67 E 0 Cg EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F .088
(be symbolic links\) could be modi\214ed to point to a dif)108 84 R .088
(ferent location.)-.25 F .089(Such races can be a)5.088 F -.2(vo)-.2 G
.089(ided by opening).2 F 3.662<618c>108 96 S 1.162
(le descriptor for the tar)-3.662 F 1.161(get directory)-.18 F 3.661(,a)
-.65 G 1.161(nd then specifying that \214le descriptor as the)-3.661 F
/F1 10/Times-Italic@0 SF(dirfd)4.011 E F0(ar)4.431 E 1.161(gument of)
-.18 F(\(say\))108 108 Q/F2 10/Times-Bold@0 SF(fstatat)2.5 E F0
(\(2\) and)A F2(openat)2.5 E F0 2.5(\(\). The)B(use of the)2.5 E F1
(dirfd)2.85 E F0(\214le descriptor also has other bene\214ts:)3.27 E(*)
108 124.8 Q
(the \214le descriptor is a stable reference to the directory)123 124.8
Q 2.5(,e)-.65 G -.15(ve)-2.75 G 2.5(ni).15 G 2.5(ft)-2.5 G
(he directory is renamed; and)-2.5 E(*)108 141.6 Q 2.019
(the open \214le descriptor pre)123 141.6 R -.15(ve)-.25 G 2.019
(nts the underlying \214lesystem from being dismounted, just as when a)
.15 F(process has a current w)123 153.6 Q
(orking directory on a \214lesystem.)-.1 E(Second,)108 170.4 Q F2
(openat)3.421 E F0 .921(\(\) allo)B .921(ws the implementation of a per)
-.25 F .921(-thread "current w)-.2 F .92
(orking directory", via \214le descrip-)-.1 F .398
(tor\(s\) maintained by the application.)108 182.4 R .399(\(This functi\
onality can also be obtained by tricks based on the use of)5.399 F F1
(/pr)109.15 194.4 Q(oc/self/fd/)-.45 E F0(dirfd, b)1.58 E(ut less ef)-.2
E(\214ciently)-.25 E(.\))-.65 E(The)108 211.2 Q F1(dirfd)3.499 E F0(ar)
3.919 E .649(gument for these APIs can be obtained by using)-.18 F F2
(open)3.149 E F0 .649(\(\) or)B F2(openat)3.149 E F0 .649
(\(\) to open a directory \(with)B .548(either the)108 223.2 R F2
(O_RDONL)3.048 E(Y)-.92 E F0 .548(or the)3.048 F F2(O_P)3.049 E -.95(AT)
-.74 G(H).95 E F0 3.049(\215ag\). Alternati)3.049 F -.15(ve)-.25 G(ly)
.15 E 3.049(,s)-.65 G .549
(uch a \214le descriptor can be obtained by ap-)-3.049 F(plying)108
235.2 Q F2(dirfd)2.5 E F0(\(3\) to a directory stream created using)A F2
(opendir)2.5 E F0(\(3\).)A .763(When these APIs are gi)108 252 R -.15
(ve)-.25 G 3.263(na).15 G F1(dirfd).35 E F0(ar)4.033 E .763(gument of)
-.18 F F2 -.95(AT)3.262 G(_FDCWD).95 E F0 .762
(or the speci\214ed pathname is absolute, then)3.262 F(the)108 264 Q
3.17(yh)-.15 G .67(andle their pathname ar)-3.17 F .671
(gument in the same w)-.18 F .671(ay as the corresponding con)-.1 F -.15
(ve)-.4 G .671(ntional APIs.).15 F(Ho)5.671 E(we)-.25 E -.15(ve)-.25 G
-.4(r,).15 G .109(in this case, se)108 276 R -.15(ve)-.25 G .109
(ral of the APIs ha).15 F .409 -.15(ve a)-.2 H F1<8d61>4.669 E(gs)-.1 E
F0(ar)2.879 E .109(gument that pro)-.18 F .109
(vides access to functionality that is not a)-.15 F -.25(va)-.2 G(il-)
.25 E(able with the corresponding con)108 288 Q -.15(ve)-.4 G
(ntional APIs.).15 E F2(O_DIRECT)87 304.8 Q F0(The)108 316.8 Q F2
(O_DIRECT)3.527 E F0 1.027(\215ag may impose alignment restrictions on \
the length and address of user)3.527 F 1.028(-space b)-.2 F(uf)-.2 E
(fers)-.25 E .345(and the \214le of)108 328.8 R .344(fset of I/Os.)-.25
F .344(In Linux alignment restrictions v)5.344 F .344
(ary by \214lesystem and k)-.25 F .344(ernel v)-.1 F .344
(ersion and might)-.15 F .005(be absent entirely)108 340.8 R 5.005(.H)
-.65 G -.25(ow)-5.005 G -2.15 -.25(ev e).25 H 2.505(rt).25 G .005
(here is currently no \214lesystem\255independent interf)-2.505 F .005
(ace for an application to dis-)-.1 F(co)108 352.8 Q -.15(ve)-.15 G
2.739(rt).15 G .239(hese restrictions for a gi)-2.739 F -.15(ve)-.25 G
2.739<6e8c>.15 G .239(le or \214lesystem.)-2.739 F .239
(Some \214lesystems pro)5.239 F .239(vide their o)-.15 F .238(wn interf)
-.25 F .238(aces for do-)-.1 F(ing so, for e)108 364.8 Q(xample the)-.15
E F2(XFS_IOC_DIOINFO)2.5 E F0(operation in)2.5 E F2(xfsctl)2.5 E F0
(\(3\).)A .116
(Under Linux 2.4, transfer sizes, and the alignment of the user b)108
381.6 R(uf)-.2 E .116(fer and the \214le of)-.25 F .117
(fset must all be multiples)-.25 F .283
(of the logical block size of the \214lesystem.)108 393.6 R .282
(Since Linux 2.6.0, alignment to the logical block size of the un-)5.283
F .432(derlying storage \(typically 512 bytes\) suf)108 405.6 R 2.933
(\214ces. The)-.25 F .433
(logical block size can be determined using the)2.933 F F2(ioctl)2.933 E
F0(\(2\))A F2(BLKSSZGET)108 417.6 Q F0
(operation or from the shell using the command:)2.5 E/F3 10/Courier@0 SF
(blockdev \255\255getss)128 434.4 Q F2(O_DIRECT)108 451.2 Q F0 .448
(I/Os should ne)2.948 F -.15(ve)-.25 G 2.948(rb).15 G 2.948(er)-2.948 G
.448(un concurrently with the)-2.948 F F2 -.25(fo)2.948 G(rk).25 E F0
.447(\(2\) system call, if the memory b)B(uf)-.2 E .447(fer is a)-.25 F
(pri)108 463.2 Q -.25(va)-.25 G .213(te mapping \(i.e., an).25 F 2.714
(ym)-.15 G .214(apping created with the)-2.714 F F2(mmap)2.714 E F0
(\(2\))A F2(MAP_PRIV)2.714 E -.95(AT)-1.35 G(E).95 E F0 .214
(\215ag; this includes memory)2.714 F .439
(allocated on the heap and statically allocated b)108 475.2 R(uf)-.2 E
2.939(fers\). An)-.25 F 2.939(ys)-.15 G .438
(uch I/Os, whether submitted via an asynchro-)-2.939 F 1.472
(nous I/O interf)108 487.2 R 1.472
(ace or from another thread in the process, should be completed before)
-.1 F F2 -.25(fo)3.973 G(rk).25 E F0 1.473(\(2\) is called.)B -.15(Fa)
108 499.2 S .104
(ilure to do so can result in data corruption and unde\214ned beha).15 F
.104(vior in parent and child processes.)-.2 F .103(This re-)5.103 F
.615(striction does not apply when the memory b)108 511.2 R(uf)-.2 E
.615(fer for the)-.25 F F2(O_DIRECT)3.115 E F0 .615(I/Os w)3.115 F .615
(as created using)-.1 F F2(shmat)3.115 E F0 .615(\(2\) or)B F2(mmap)108
523.2 Q F0 .112(\(2\) with the)B F2(MAP_SHARED)2.612 E F0 2.612
(\215ag. Nor)2.612 F .112(does this restriction apply when the memory b)
2.612 F(uf)-.2 E .112(fer has been)-.25 F .563(advised as)108 535.2 R F2
(MAD)3.063 E(V_DONTFORK)-.4 E F0(with)3.063 E F2(madvise)3.063 E F0 .563
(\(2\), ensuring that it will not be a)B -.25(va)-.2 G .564
(ilable to the child after).25 F F2 -.25(fo)108 547.2 S(rk).25 E F0
(\(2\).)A(The)108 564 Q F2(O_DIRECT)3.242 E F0 .742(\215ag w)3.242 F
.741(as introduced in SGI IRIX, where it has alignment restrictions sim\
ilar to those of)-.1 F 1.083(Linux 2.4.)108 576 R 1.083(IRIX has also a)
6.083 F F2(fcntl)3.584 E F0 1.084
(\(2\) call to query appropriate alignments, and sizes.)B 1.084
(FreeBSD 4.x intro-)6.084 F(duced a \215ag of the same name, b)108 588 Q
(ut without alignment restrictions.)-.2 E F2(O_DIRECT)108 604.8 Q F0
.655(support w)3.155 F .654(as added under Linux in k)-.1 F .654
(ernel v)-.1 F .654(ersion 2.4.10.)-.15 F .654(Older Linux k)5.654 F
.654(ernels simply ignore)-.1 F .269(this \215ag.)108 616.8 R .269
(Some \214lesystems may not implement the \215ag, in which case)5.269 F
F2(open)2.77 E F0 .27(\(\) f)B .27(ails with the error)-.1 F F2(EINV)
2.77 E(AL)-1.35 E F0(if it is used.)108 628.8 Q .516
(Applications should a)108 645.6 R -.2(vo)-.2 G .516(id mixing).2 F F2
(O_DIRECT)3.016 E F0 .515
(and normal I/O to the same \214le, and especially to o)3.016 F -.15(ve)
-.15 G(rlap-).15 E .392(ping byte re)108 657.6 R .392
(gions in the same \214le.)-.15 F(Ev)5.392 E .392
(en when the \214lesystem correctly handles the coherenc)-.15 F 2.893
(yi)-.15 G .393(ssues in this)-2.893 F .147(situation, o)108 669.6 R
-.15(ve)-.15 G .147(rall I/O throughput is lik).15 F .147(ely to be slo)
-.1 F .146(wer than using either mode alone.)-.25 F(Lik)5.146 E -.25(ew)
-.1 G .146(ise, applications).25 F(should a)108 681.6 Q -.2(vo)-.2 G
(id mixing).2 E F2(mmap)2.5 E F0
(\(2\) of \214les with direct I/O to the same \214les.)A .18(The beha)
108 698.4 R .18(vior of)-.2 F F2(O_DIRECT)2.68 E F0 .18
(with NFS will dif)2.68 F .18(fer from local \214lesystems.)-.25 F .18
(Older k)5.18 F .18(ernels, or k)-.1 F .18(ernels con\214g-)-.1 F 1.019
(ured in certain w)108 710.4 R 1.018
(ays, may not support this combination.)-.1 F 1.018
(The NFS protocol does not support passing the)6.018 F .992
(\215ag to the serv)108 722.4 R(er)-.15 E 3.492(,s)-.4 G(o)-3.492 E F2
(O_DIRECT)3.492 E F0 .993
(I/O will bypass the page cache only on the client; the serv)3.492 F
.993(er may still)-.15 F 184.28(Linux 2020-11-01)72 768 R(12)200.67 E 0
Cg EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 135.68(OPEN\(2\) Linux)72 48 R(Programmer')2.5 E
2.5(sM)-.55 G 135.68(anual OPEN\(2\))-2.5 F .36(cache the I/O.)108 84 R
.36(The client asks the serv)5.36 F .359(er to mak)-.15 F 2.859(et)-.1 G
.359(he I/O synchronous to preserv)-2.859 F 2.859(et)-.15 G .359
(he synchronous seman-)-2.859 F .074(tics of)108 96 R/F1 10/Times-Bold@0
SF(O_DIRECT)2.574 E F0 5.074(.S)C .074(ome serv)-5.074 F .074(ers will \
perform poorly under these circumstances, especially if the I/O size)
-.15 F .258(is small.)108 108 R .258(Some serv)5.258 F .257
(ers may also be con\214gured to lie to clients about the I/O ha)-.15 F
.257(ving reached stable storage;)-.2 F .797(this will a)108 120 R -.2
(vo)-.2 G .798(id the performance penalty at some risk to data inte).2 F
.798(grity in the e)-.15 F -.15(ve)-.25 G .798(nt of serv).15 F .798
(er po)-.15 F .798(wer f)-.25 F(ailure.)-.1 E
(The Linux NFS client places no alignment restrictions on)108 132 Q F1
(O_DIRECT)2.5 E F0(I/O.)2.5 E 1.555(In summary)108 148.8 R(,)-.65 E F1
(O_DIRECT)4.055 E F0 1.555(is a potentially po)4.055 F 1.554
(werful tool that should be used with caution.)-.25 F 1.554
(It is recom-)6.554 F(mended that applications treat use of)108 160.8 Q
F1(O_DIRECT)2.5 E F0(as a performance option which is disabled by def)
2.5 E(ault.)-.1 E/F2 10.95/Times-Bold@0 SF -.11(BU)72 177.6 S(GS).11 E
F0(Currently)108 189.6 Q 2.89(,i)-.65 G 2.89(ti)-2.89 G 2.89(sn)-2.89 G
.39(ot possible to enable signal-dri)-2.89 F -.15(ve)-.25 G 2.891(nI).15
G .391(/O by specifying)-2.891 F F1(O_ASYNC)2.891 E F0 .391
(when calling)2.891 F F1(open)2.891 E F0 .391(\(\); use)B F1(fcntl)108
201.6 Q F0(\(2\) to enable this \215ag.)A .699(One must check for tw)108
218.4 R 3.199(od)-.1 G(if)-3.199 E .699(ferent error codes,)-.25 F F1
(EISDIR)3.199 E F0(and)3.199 E F1(ENOENT)3.199 E F0 3.198(,w)C .698
(hen trying to determine whether)-3.198 F(the k)108 230.4 Q
(ernel supports)-.1 E F1(O_TMPFILE)2.5 E F0(functionality)2.5 E(.)-.65 E
1.329(When both)108 247.2 R F1(O_CREA)3.829 E(T)-.95 E F0(and)3.829 E F1
(O_DIRECT)3.829 E(OR)-.18 E(Y)-.35 E F0 1.329(are speci\214ed in)3.829 F
/F3 10/Times-Italic@0 SF<8d61>5.739 E(gs)-.1 E F0 1.33
(and the \214le speci\214ed by)3.829 F F3(pathname)5.08 E F0(does not e)
108 259.2 Q(xist,)-.15 E F1(open)2.5 E F0(\(\) will create a re)A
(gular \214le \(i.e.,)-.15 E F1(O_DIRECT)2.5 E(OR)-.18 E(Y)-.35 E F0
(is ignored\).)2.5 E F2(SEE ALSO)72 276 Q F1(chmod)108 288 Q F0(\(2\),)A
F1(cho)6.04 E(wn)-.1 E F0(\(2\),)A F1(close)6.04 E F0(\(2\),)A F1(dup)
6.04 E F0(\(2\),)A F1(fcntl)6.04 E F0(\(2\),)A F1(link)6.04 E F0(\(2\),)
A F1(lseek)6.04 E F0(\(2\),)A F1(mknod)6.04 E F0(\(2\),)A F1(mmap)6.04 E
F0(\(2\),)A F1(mount)6.04 E F0(\(2\),)A F1(open_by_handle_at)108 300 Q
F0(\(2\),)A F1(openat2)2.995 E F0(\(2\),)A F1 -.18(re)2.995 G(ad).18 E
F0(\(2\),)A F1(sock)2.995 E(et)-.1 E F0(\(2\),)A F1(stat)2.995 E F0
(\(2\),)A F1(umask)2.995 E F0(\(2\),)A F1(unlink)2.995 E F0(\(2\),)A F1
(write)2.995 E F0(\(2\),)A F1 -.25(fo)2.995 G(pen).25 E F0(\(3\),)A F1
(acl)108 312 Q F0(\(5\),)A F1<8c66>2.5 E(o)-.25 E F0(\(7\),)A F1(inode)
2.5 E F0(\(7\),)A F1(path_r)2.5 E(esolution)-.18 E F0(\(7\),)A F1
(symlink)2.5 E F0(\(7\))A F2(COLOPHON)72 328.8 Q F0 .341
(This page is part of release 5.10 of the Linux)108 340.8 R F3(man-pa)
3.221 E -.1(ge)-.1 G(s).1 E F0 2.84(project. A)3.11 F .34
(description of the project, information)2.84 F 11.103
(about reporting b)108 352.8 R 11.103(ugs, and the latest v)-.2 F 11.103
(ersion of this page, can be found at)-.15 F(https://www)108 364.8 Q(.k)
-.65 E(ernel.or)-.1 E(g/doc/man\255pages/.)-.18 E 184.28
(Linux 2020-11-01)72 768 R(13)200.67 E 0 Cg EP
%%Trailer
end
%%EOF
