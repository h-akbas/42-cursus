%!PS-Adobe-3.0
%%Creator: groff version 1.22.4
%%CreationDate: Sat Feb  3 17:05:19 2024
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Courier-Bold
%%+ font Courier-Oblique
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.22 4
%%Pages: 7
%%PageOrder: Ascend
%%DocumentMedia: Default 595 842 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.22 4
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 595 842 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Courier-Oblique
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Courier-Oblique@0 ENC0/Courier-Oblique RE
/Courier-Bold@0 ENC0/Courier-Bold RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 122.35(EXECVE\(2\) Linux)72 48 R(Programmer')2.5
E 2.5(sM)-.55 G 122.35(anual EXECVE\(2\))-2.5 F/F1 10.95/Times-Bold@0 SF
-.219(NA)72 84 S(ME).219 E F0 -.15(exe)108 96 S(cv).15 E 2.5(e\255e)-.15
G -.15(xe)-2.65 G(cute program).15 E F1(SYNOPSIS)72 112.8 Q/F2 10
/Times-Bold@0 SF(#include <unistd.h>)108 124.8 Q(int execv)108 141.6 Q
(e\(const char *)-.1 E/F3 10/Times-Italic@0 SF(pathname)1.25 E F2 2.5
(,c).18 G(har *const)-2.5 E F3(ar)2.83 E(gv)-.37 E F2([],).32 E
(char *const)135.5 153.6 Q F3(en)2.69 E(vp)-.4 E F2([]\);).19 E F1
(DESCRIPTION)72 170.4 Q F2(execv)108 182.4 Q(e)-.1 E F0 .019(\(\) e)B
-.15(xe)-.15 G .018(cutes the program referred to by).15 F F3(pathname)
2.518 E F0 5.018(.T)C .018
(his causes the program that is currently being run)-5.018 F .772
(by the calling process to be replaced with a ne)108 194.4 R 3.272(wp)
-.25 G .772(rogram, with ne)-3.272 F .773
(wly initialized stack, heap, and \(initial-)-.25 F
(ized and uninitialized\) data se)108 206.4 Q(gments.)-.15 E F3
(pathname)108 223.2 Q F0(must be either a binary e)2.5 E -.15(xe)-.15 G
(cutable, or a script starting with a line of the form:).15 E/F4 10
/Courier-Bold@0 SF(#!)128 240 Q/F5 10/Courier-Oblique@0 SF(interpreter)A
/F6 10/Courier@0 SF([optional-arg])6 E F0 -.15(Fo)108 256.8 S 2.5(rd).15
G(etails of the latter case, see "Interpreter scripts" belo)-2.5 E -.65
(w.)-.25 G F3(ar)108 273.6 Q(gv)-.37 E F0 .499
(is an array of pointers to strings passed to the ne)2.999 F 2.998(wp)
-.25 G .498(rogram as its command-line ar)-2.998 F 2.998(guments. By)
-.18 F(con-)2.998 E -.15(ve)108 285.6 S .91
(ntion, the \214rst of these strings \(i.e.,).15 F F3(ar)3.741 E(gv[0])
-.37 E F0 3.411(\)s).43 G .911
(hould contain the \214lename associated with the \214le being)-3.411 F
-.15(exe)108 297.6 S 3.055(cuted. The).15 F F3(ar)3.385 E(gv)-.37 E F0
.554(array must be terminated by a NULL pointer)3.375 F 5.554(.\()-.55 G
.554(Thus, in the ne)-5.554 F 3.054(wp)-.25 G(rogram,)-3.054 E F3(ar)
3.384 E(gv[ar)-.37 E(gc])-.37 E F0(will be NULL.\))108 309.6 Q F3(en)108
326.4 Q(vp)-.4 E F0 .316(is an array of pointers to strings, con)2.816 F
-.15(ve)-.4 G .317(ntionally of the form).15 F F2 -.1(ke)2.817 G(y=v).1
E(alue)-.1 E F0 2.817(,w)C .317(hich are passed as the en)-2.817 F(vi-)
-.4 E(ronment of the ne)108 338.4 Q 2.5(wp)-.25 G 2.5(rogram. The)-2.5 F
F3(en)2.69 E(vp)-.4 E F0(array must be terminated by a NULL pointer)2.69
E(.)-.55 E .41(The ar)108 355.2 R .41(gument v)-.18 F .41(ector and en)
-.15 F .41(vironment can be accessed by the ne)-.4 F 2.909(wp)-.25 G
(rogram')-2.909 E 2.909(sm)-.55 G .409(ain function, when it is de-)
-2.909 F(\214ned as:)108 367.2 Q F6
(int main\(int argc, char *argv[], char *envp[]\))128 384 Q F0 .259
(Note, ho)108 400.8 R(we)-.25 E -.15(ve)-.25 G 1.059 -.4(r, t).15 H .259
(hat the use of a third ar).4 F .26
(gument to the main function is not speci\214ed in POSIX.1; according)
-.18 F(to POSIX.1, the en)108 412.8 Q
(vironment should be accessed via the e)-.4 E(xternal v)-.15 E(ariable)
-.25 E F2(en)2.5 E(vir)-.4 E(on)-.18 E F0(\(7\).)A F2(execv)108 429.6 Q
(e)-.1 E F0 .611(\(\) does not return on success, and the te)B .611
(xt, initialized data, uninitialized data \(bss\), and stack of the)-.15
F(calling process are o)108 441.6 Q -.15(ve)-.15 G
(rwritten according to the contents of the ne).15 E(wly loaded program.)
-.25 E(If the current program is being ptraced, a)108 458.4 Q F2
(SIGTRAP)2.5 E F0(signal is sent to it after a successful)2.5 E F2
(execv)2.5 E(e)-.1 E F0(\(\).)A .911(If the set-user)108 475.2 R .911
(-ID bit is set on the program \214le referred to by)-.2 F F3(pathname)
3.412 E F0 3.412(,t)C .912(hen the ef)-3.412 F(fecti)-.25 E 1.212 -.15
(ve u)-.25 H .912(ser ID of the).15 F .507
(calling process is changed to that of the o)108 487.2 R .506
(wner of the program \214le.)-.25 F(Similarly)5.506 E 3.006(,i)-.65 G
3.006(ft)-3.006 G .506(he set-group-ID bit is set)-3.006 F
(on the program \214le, then the ef)108 499.2 Q(fecti)-.25 E .3 -.15
(ve g)-.25 H(roup ID of the calling process is set to the group of the \
program \214le.).15 E 1.07(The aforementioned transformations of the ef)
108 516 R(fecti)-.25 E 1.371 -.15(ve I)-.25 H 1.071(Ds are).15 F F3(not)
3.931 E F0 1.071(performed \(i.e., the set-user)4.251 F 1.071
(-ID and set-)-.2 F(group-ID bits are ignored\) if an)108 528 Q 2.5(yo)
-.15 G 2.5(ft)-2.5 G(he follo)-2.5 E(wing is true:)-.25 E(*)108 544.8 Q
(the)123 544.8 Q F3(no_ne)2.86 E(w_privs)-.15 E F0(attrib)2.77 E
(ute is set for the calling thread \(see)-.2 E F2(pr)2.5 E(ctl)-.18 E F0
(\(2\)\);)A(*)108 561.6 Q(the underlying \214lesystem is mounted)123
561.6 Q F3(nosuid)2.86 E F0(\(the)3.27 E F2(MS_NOSUID)2.5 E F0
(\215ag for)2.5 E F2(mount)2.5 E F0(\(2\)\); or)A(*)108 578.4 Q
(the calling process is being ptraced.)123 578.4 Q
(The capabilities of the program \214le \(see)108 595.2 Q F2
(capabilities)2.5 E F0(\(7\)\) are also ignored if an)A 2.5(yo)-.15 G
2.5(ft)-2.5 G(he abo)-2.5 E .3 -.15(ve a)-.15 H(re true.).15 E .642
(The ef)108 612 R(fecti)-.25 E .942 -.15(ve u)-.25 H .642
(ser ID of the process is copied to the sa).15 F -.15(ve)-.2 G 3.142(ds)
.15 G(et-user)-3.142 E .641(-ID; similarly)-.2 F 3.141(,t)-.65 G .641
(he ef)-3.141 F(fecti)-.25 E .941 -.15(ve g)-.25 H .641(roup ID is).15 F
.946(copied to the sa)108 624 R -.15(ve)-.2 G 3.446(ds).15 G 3.446
(et-group-ID. This)-3.446 F(cop)3.446 E .946(ying tak)-.1 F .946
(es place after an)-.1 F 3.446(ye)-.15 G -.25(ff)-3.446 G(ecti).25 E
1.246 -.15(ve I)-.25 H 3.447(Dc).15 G .947(hanges that occur be-)-3.447
F(cause of the set-user)108 636 Q(-ID and set-group-ID mode bits.)-.2 E
.565(The process')108 652.8 R 3.065(sr)-.55 G .564(eal UID and real GID\
, as well its supplementary group IDs, are unchanged by a call to)-3.065
F F2(ex-)3.064 E(ecv)108 664.8 Q(e)-.1 E F0(\(\).)A(If the e)108 681.6 Q
-.15(xe)-.15 G(cutable is an a.out dynamically link).15 E(ed binary e)
-.1 E -.15(xe)-.15 G(cutable containing shared-library stubs, the Linux)
.15 E .668(dynamic link)108 693.6 R(er)-.1 E F2(ld.so)3.168 E F0 .668
(\(8\) is called at the start of e)B -.15(xe)-.15 G .667
(cution to bring needed shared objects into memory and).15 F(link the e)
108 705.6 Q -.15(xe)-.15 G(cutable with them.).15 E 2.519(If the e)108
722.4 R -.15(xe)-.15 G 2.519(cutable is a dynamically link).15 F 2.519
(ed ELF e)-.1 F -.15(xe)-.15 G 2.52
(cutable, the interpreter named in the PT_INTERP).15 F 184.28
(Linux 2020-08-13)72 768 R(1)205.67 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 122.35(EXECVE\(2\) Linux)72 48 R(Programmer')2.5
E 2.5(sM)-.55 G 122.35(anual EXECVE\(2\))-2.5 F(se)108 84 Q .717
(gment is used to load the needed shared objects.)-.15 F .716
(This interpreter is typically)5.717 F/F1 10/Times-Italic@0 SF
(/lib/ld-linux.so.2)4.366 E F0 .716(for bina-)3.236 F(ries link)108 96 Q
(ed with glibc \(see)-.1 E/F2 10/Times-Bold@0 SF(ld\255linux.so)2.5 E F0
(\(8\)\).)A F2(Effect on pr)87 112.8 Q(ocess attrib)-.18 E(utes)-.2 E F0
(All process attrib)108 124.8 Q(utes are preserv)-.2 E(ed during an)-.15
E F2(execv)2.5 E(e)-.1 E F0(\(\), e)A(xcept the follo)-.15 E(wing:)-.25
E(*)108 141.6 Q(The dispositions of an)123 141.6 Q 2.5(ys)-.15 G
(ignals that are being caught are reset to the def)-2.5 E(ault \()-.1 E
F2(signal)A F0(\(7\)\).)A(*)108 158.4 Q(An)123 158.4 Q 2.5(ya)-.15 G
(lternate signal stack is not preserv)-2.5 E(ed \()-.15 E F2
(sigaltstack)A F0(\(2\)\).)A(*)108 175.2 Q
(Memory mappings are not preserv)123 175.2 Q(ed \()-.15 E F2(mmap)A F0
(\(2\)\).)A(*)108 192 Q(Attached System V shared memory se)123 192 Q
(gments are detached \()-.15 E F2(shmat)A F0(\(2\)\).)A(*)108 208.8 Q
(POSIX shared memory re)123 208.8 Q(gions are unmapped \()-.15 E F2
(shm_open)A F0(\(3\)\).)A(*)108 225.6 Q
(Open POSIX message queue descriptors are closed \()123 225.6 Q F2(mq_o)
A -.1(ve)-.1 G -.1(rv).1 G(iew).1 E F0(\(7\)\).)A(*)108 242.4 Q(An)123
242.4 Q 2.5(yo)-.15 G(pen POSIX named semaphores are closed \()-2.5 E F2
(sem_o)A -.1(ve)-.1 G -.1(rv).1 G(iew).1 E F0(\(7\)\).)A(*)108 259.2 Q
(POSIX timers are not preserv)123 259.2 Q(ed \()-.15 E F2(timer_cr)A
(eate)-.18 E F0(\(2\)\).)A(*)108 276 Q(An)123 276 Q 2.5(yo)-.15 G
(pen directory streams are closed \()-2.5 E F2(opendir)A F0(\(3\)\).)A
(*)108 292.8 Q(Memory locks are not preserv)123 292.8 Q(ed \()-.15 E F2
(mlock)A F0(\(2\),)A F2(mlockall)2.5 E F0(\(2\)\).)A(*)108 309.6 Q
(Exit handlers are not preserv)123 309.6 Q(ed \()-.15 E F2(atexit)A F0
(\(3\),)A F2(on_exit)2.5 E F0(\(3\)\).)A(*)108 326.4 Q
(The \215oating-point en)123 326.4 Q(vironment is reset to the def)-.4 E
(ault \(see)-.1 E F2(fen)2.5 E(v)-.4 E F0(\(3\)\).)A 1.706
(The process attrib)108 343.2 R 1.706
(utes in the preceding list are all speci\214ed in POSIX.1.)-.2 F 1.707
(The follo)6.707 F 1.707(wing Linux-speci\214c)-.25 F(process attrib)108
355.2 Q(utes are also not preserv)-.2 E(ed during an)-.15 E F2(execv)2.5
E(e)-.1 E F0(\(\):)A(*)108 372 Q .879(The process')123 372 R 3.379(s")
-.55 G .879(dumpable" attrib)-3.379 F .879(ute is set to the v)-.2 F
.879(alue 1, unless a set-user)-.25 F .878(-ID program, a set-group-ID)
-.2 F .148(program, or a program with capabilities is being e)123 384 R
-.15(xe)-.15 G .148
(cuted, in which case the dumpable \215ag may instead).15 F 5.584
(be reset to the v)123 396 R 5.584(alue in)-.25 F F1(/pr)9.234 E
(oc/sys/fs/suid_dumpable)-.45 E F0 8.084(,i).18 G 8.083(nt)-8.084 G
5.583(he circumstances described under)-8.083 F F2(PR_SET_DUMP)123 408 Q
(ABLE)-.74 E F0(in)3.233 E F2(pr)3.233 E(ctl)-.18 E F0 3.233
(\(2\). Note)B .733(that changes to the "dumpable" attrib)3.233 F .734
(ute may cause o)-.2 F(wner)-.25 E(-)-.2 E
(ship of \214les in the process')123 420 Q(s)-.55 E F1(/pr)3.65 E
(oc/[pid])-.45 E F0(directory to change to)2.5 E F1 -.45(ro)2.5 G(ot:r)
.45 E(oot)-.45 E F0 2.5(,a).68 G 2.5(sd)-2.5 G(escribed in)-2.5 E F2(pr)
2.5 E(oc)-.18 E F0(\(5\).)A(*)108 436.8 Q(The)123 436.8 Q F2(pr)2.5 E
(ctl)-.18 E F0(\(2\))A F2(PR_SET_KEEPCAPS)2.5 E F0(\215ag is cleared.)
2.5 E(*)108 453.6 Q .041(\(Since Linux 2.4.36 / 2.6.23\) If a set-user)
123 453.6 R .041(-ID or set-group-ID program is being e)-.2 F -.15(xe)
-.15 G .04(cuted, then the parent).15 F(death signal set by)123 465.6 Q
F2(pr)2.5 E(ctl)-.18 E F0(\(2\))A F2(PR_SET_PDEA)2.5 E(THSIG)-.95 E F0
(\215ag is cleared.)2.5 E(*)108 482.4 Q .448
(The process name, as set by)123 482.4 R F2(pr)2.949 E(ctl)-.18 E F0
(\(2\))A F2(PR_SET_N)2.949 E(AME)-.2 E F0 .449(\(and displayed by)2.949
F F1(ps \255o)4.199 E(comm)2.949 E F0 .449(\), is reset to the).32 F
(name of the ne)123 494.4 Q 2.5(we)-.25 G -.15(xe)-2.65 G
(cutable \214le.).15 E(*)108 511.2 Q(The)123 511.2 Q F2
(SECBIT_KEEP_CAPS)2.5 E F1(secur)2.84 E(ebits)-.37 E F0
(\215ag is cleared.)2.77 E(See)5 E F2(capabilities)2.5 E F0(\(7\).)A(*)
108 528 Q(The termination signal is reset to)123 528 Q F2(SIGCHLD)2.5 E
F0(\(see)2.5 E F2(clone)2.5 E F0(\(2\)\).)A(*)108 544.8 Q
(The \214le descriptor table is unshared, undoing the ef)123 544.8 Q
(fect of the)-.25 E F2(CLONE_FILES)2.5 E F0(\215ag of)2.5 E F2(clone)2.5
E F0(\(2\).)A(Note the follo)108 561.6 Q(wing further points:)-.25 E(*)
108 578.4 Q 1.374(All threads other than the calling thread are destro)
123 578.4 R 1.373(yed during an)-.1 F F2(execv)3.873 E(e)-.1 E F0 3.873
(\(\). Mute)B -.15(xe)-.15 G 1.373(s, condition v).15 F(ari-)-.25 E
(ables, and other pthreads objects are not preserv)123 590.4 Q(ed.)-.15
E(*)108 607.2 Q(The equi)123 607.2 Q -.25(va)-.25 G(lent of).25 E F1
(setlocale\(LC_ALL, "C"\))2.5 E F0(is e)2.5 E -.15(xe)-.15 G
(cuted at program start-up.).15 E(*)108 624 Q .667
(POSIX.1 speci\214es that the dispositions of an)123 624 R 3.168(ys)-.15
G .668(ignals that are ignored or set to the def)-3.168 F .668
(ault are left un-)-.1 F 4.025(changed. POSIX.1)123 636 R 1.524
(speci\214es one e)4.025 F 1.524(xception: if)-.15 F F2(SIGCHLD)4.024 E
F0 1.524(is being ignored, then an implementation)4.024 F(may lea)123
648 Q .3 -.15(ve t)-.2 H
(he disposition unchanged or reset it to the def).15 E
(ault; Linux does the former)-.1 E(.)-.55 E(*)108 664.8 Q(An)123 664.8 Q
2.5(yo)-.15 G(utstanding asynchronous I/O operations are canceled \()
-2.5 E F2(aio_r)A(ead)-.18 E F0(\(3\),)A F2(aio_write)2.5 E F0(\(3\)\).)
A(*)108 681.6 Q -.15(Fo)123 681.6 S 2.5(rt).15 G
(he handling of capabilities during)-2.5 E F2(execv)2.5 E(e)-.1 E F0
(\(\), see)A F2(capabilities)2.5 E F0(\(7\).)A(*)108 698.4 Q .627
(By def)123 698.4 R .628(ault, \214le descriptors remain open across an)
-.1 F F2(execv)3.128 E(e)-.1 E F0 3.128(\(\). File)B .628
(descriptors that are mark)3.128 F .628(ed close-on-)-.1 F -.15(exe)123
710.4 S 3.291(ca).15 G .791(re closed; see the description of)-3.291 F
F2(FD_CLOEXEC)3.291 E F0(in)3.291 E F2(fcntl)3.291 E F0 3.291
(\(2\). \(If)B 3.29<618c>3.29 G .79(le descriptor is closed, this)-3.29
F .825(will cause the release of all record locks obtained on the under\
lying \214le by this process.)123 722.4 R(See)5.825 E F2(fcntl)3.325 E
F0(\(2\))A 184.28(Linux 2020-08-13)72 768 R(2)205.67 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 122.35(EXECVE\(2\) Linux)72 48 R(Programmer')2.5
E 2.5(sM)-.55 G 122.35(anual EXECVE\(2\))-2.5 F .291(for details.\))123
84 R .291(POSIX.1 says that if \214le descriptors 0, 1, and 2 w)5.291 F
.29(ould otherwise be closed after a success-)-.1 F(ful)123 96 Q/F1 10
/Times-Bold@0 SF(execv)2.556 E(e)-.1 E F0 .056(\(\), and the process w)B
.056(ould g)-.1 F .056(ain pri)-.05 F(vile)-.25 E .056
(ge because the set-user)-.15 F .056(-ID or set-group-ID mode bit w)-.2
F(as)-.1 E .472(set on the e)123 108 R -.15(xe)-.15 G .471(cuted \214le\
, then the system may open an unspeci\214ed \214le for each of these \
\214le descriptors.).15 F .45
(As a general principle, no portable program, whether pri)123 120 R
(vile)-.25 E .451(ged or not, can assume that these three \214le)-.15 F
(descriptors will remain closed across an)123 132 Q F1(execv)2.5 E(e)-.1
E F0(\(\).)A F1(Inter)87 148.8 Q(pr)-.1 E(eter scripts)-.18 E F0
(An interpreter script is a te)108 160.8 Q(xt \214le that has e)-.15 E
-.15(xe)-.15 G
(cute permission enabled and whose \214rst line is of the form:).15 E/F2
10/Courier-Bold@0 SF(#!)128 177.6 Q/F3 10/Courier-Oblique@0 SF
(interpreter)A/F4 10/Courier@0 SF([optional-arg])6 E F0(The)108 194.4 Q
/F5 10/Times-Italic@0 SF(interpr)2.51 E(eter)-.37 E F0(must be a v)3.23
E(alid pathname for an e)-.25 E -.15(xe)-.15 G(cutable \214le.).15 E
.603(If the)108 211.2 R F5(pathname)4.353 E F0(ar)3.283 E .603
(gument of)-.18 F F1(execv)3.103 E(e)-.1 E F0 .603
(\(\) speci\214es an interpreter script, then)B F5(interpr)3.112 E(eter)
-.37 E F0 .602(will be in)3.832 F -.2(vo)-.4 G -.1(ke).2 G 3.102(dw).1 G
(ith)-3.102 E(the follo)108 223.2 Q(wing ar)-.25 E(guments:)-.18 E F3
(interpreter)128 240 Q F4([optional-arg])6 E F3(pathname)6 E F4(arg...)6
E F0(where)108 256.8 Q F5(pathname)4.322 E F0 .572
(is the absolute pathname of the \214le speci\214ed as the \214rst ar)
3.252 F .573(gument of)-.18 F F1(execv)3.073 E(e)-.1 E F0 .573
(\(\), and)B F5(ar)3.403 E -.15(g.)-.37 G(..).15 E F0 .075
(is the series of w)108 268.8 R .075(ords pointed to by the)-.1 F F5(ar)
2.905 E(gv)-.37 E F0(ar)2.895 E .075(gument of)-.18 F F1(execv)2.575 E
(e)-.1 E F0 .075(\(\), starting at)B F5(ar)2.905 E(gv[1])-.37 E F0 5.075
(.N).43 G .075(ote that there is no)-5.075 F -.1(wa)108 280.8 S 2.5(yt)
.1 G 2.5(og)-2.5 G(et the)-2.5 E F5(ar)2.83 E(gv[0])-.37 E F0(that w)2.5
E(as passed to the)-.1 E F1(execv)2.5 E(e)-.1 E F0(\(\) call.)A -.15(Fo)
108 297.6 S 3.255(rp).15 G .755(ortable use,)-3.255 F F5(optional-ar)
3.485 E(g)-.37 E F0 .756
(should either be absent, or be speci\214ed as a single w)3.475 F .756
(ord \(i.e., it should not)-.1 F(contain white space\); see NO)108 309.6
Q(TES belo)-.4 E -.65(w.)-.25 G .348(Since Linux 2.6.28, the k)108 326.4
R .347(ernel permits the interpreter of a script to itself be a script.)
-.1 F .347(This permission is re-)5.347 F(cursi)108 338.4 Q -.15(ve)-.25
G 3.568(,u).15 G 3.568(pt)-3.568 G 3.568(oal)-3.568 G 1.068(imit of fou\
r recursions, so that the interpreter may be a script which is interpre\
ted by a)-3.568 F(script, and so on.)108 350.4 Q F1
(Limits on size of ar)87 367.2 Q(guments and en)-.1 E(vir)-.4 E(onment)
-.18 E F0 .147(Most UNIX implementations impose some limit on the total\
 size of the command-line ar)108 379.2 R .147(gument \()-.18 F F5(ar).33
E(gv)-.37 E F0 2.647(\)a).32 G(nd)-2.647 E(en)108 391.2 Q .938
(vironment \()-.4 F F5(en).19 E(vp)-.4 E F0 3.438(\)s).19 G .939
(trings that may be passed to a ne)-3.438 F 3.439(wp)-.25 G 3.439
(rogram. POSIX.1)-3.439 F(allo)3.439 E .939(ws an implementation to)-.25
F(adv)108 403.2 Q .228(ertise this limit using the)-.15 F F1(ARG_MAX)
2.728 E F0 .228(constant \(either de\214ned in)2.728 F F5(<limits.h>)
2.387 E F0 .227(or a)2.727 F -.25(va)-.2 G .227(ilable at run time us-)
.25 F(ing the call)108 415.2 Q F5(sysconf\(_SC_ARG_MAX\))2.84 E F0(\).)
.06 E .558(On Linux prior to k)108 432 R .558
(ernel 2.6.23, the memory used to store the en)-.1 F .558
(vironment and ar)-.4 F .559(gument strings w)-.18 F .559(as lim-)-.1 F
.324(ited to 32 pages \(de\214ned by the k)108 444 R .323
(ernel constant)-.1 F F1(MAX_ARG_P)2.823 E -.55(AG)-.74 G(ES).55 E F0
2.823(\). On)B .323(architectures with a 4-kB page)2.823 F
(size, this yields a maximum size of 128 kB.)108 456 Q .441(On k)108
472.8 R .441(ernel 2.6.23 and later)-.1 F 2.941(,m)-.4 G .441
(ost architectures support a size limit deri)-2.941 F -.15(ve)-.25 G
2.942(df).15 G .442(rom the soft)-2.942 F F1(RLIMIT_ST)2.942 E -.55(AC)
-.9 G(K).55 E F0 1.29(resource limit \(see)108 484.8 R F1(getrlimit)3.79
E F0 1.29(\(2\)\) that is in force at the time of the)B F1(execv)3.79 E
(e)-.1 E F0 1.29(\(\) call.)B 1.29(\(Architectures with no)6.29 F 1.262
(memory management unit are e)108 496.8 R 1.262(xcepted: the)-.15 F
3.763(ym)-.15 G 1.263(aintain the limit that w)-3.763 F 1.263(as in ef)
-.1 F 1.263(fect before k)-.25 F 1.263(ernel 2.6.23.\))-.1 F .592
(This change allo)108 508.8 R .592(ws programs to ha)-.25 F .891 -.15
(ve a m)-.2 H .591(uch lar).15 F .591(ger ar)-.18 F .591
(gument and/or en)-.18 F .591(vironment list.)-.4 F -.15(Fo)5.591 G
3.091(rt).15 G .591(hese architec-)-3.091 F .338
(tures, the total size is limited to 1/4 of the allo)108 520.8 R .338
(wed stack size.)-.25 F .338
(\(Imposing the 1/4-limit ensures that the ne)5.338 F(w)-.25 E .299
(program al)108 532.8 R -.1(wa)-.1 G .299(ys has some stack space.\)).1
F(Additionally)5.299 E 2.799(,t)-.65 G .299
(he total size is limited to 3/4 of the v)-2.799 F .299(alue of the k)
-.25 F(er)-.1 E(-)-.2 E .615(nel constant)108 544.8 R F1(_STK_LIM)3.115
E F0 .616(\(8 Mibibytes\).)3.116 F .616(Since Linux 2.6.25, the k)5.616
F .616(ernel also places a \215oor of 32 pages on)-.1 F .344
(this size limit, so that, e)108 556.8 R -.15(ve)-.25 G 2.844(nw).15 G
(hen)-2.844 E F1(RLIMIT_ST)2.844 E -.55(AC)-.9 G(K).55 E F0 .344
(is set v)2.844 F .344(ery lo)-.15 F 1.644 -.65(w, a)-.25 H .344
(pplications are guaranteed to ha).65 F .644 -.15(ve a)-.2 H(t).15 E
.286(least as much ar)108 568.8 R .286(gument and en)-.18 F .286
(vironment space as w)-.4 F .286(as pro)-.1 F .286
(vided by Linux 2.6.23 and earlier)-.15 F 5.287(.\()-.55 G .287
(This guaran-)-5.287 F .462(tee w)108 580.8 R .462(as not pro)-.1 F .462
(vided in Linux 2.6.23 and 2.6.24.\))-.15 F(Additionally)5.462 E 2.962
(,t)-.65 G .461(he limit per string is 32 pages \(the k)-2.962 F(ernel)
-.1 E(constant)108 592.8 Q F1(MAX_ARG_STRLEN)2.5 E F0
(\), and the maximum number of strings is 0x7FFFFFFF)A(.)-.8 E/F6 10.95
/Times-Bold@0 SF(RETURN V)72 609.6 Q(ALUE)-1.478 E F0(On success,)108
621.6 Q F1(execv)2.5 E(e)-.1 E F0
(\(\) does not return, on error \2551 is returned, and)A F5(errno)2.69 E
F0(is set appropriately)2.68 E(.)-.65 E F6(ERR)72 638.4 Q(ORS)-.329 E F1
(E2BIG)108 650.4 Q F0(The total number of bytes in the en)144 650.4 Q
(vironment \()-.4 E F5(en).19 E(vp)-.4 E F0 2.5(\)a).19 G(nd ar)-2.5 E
(gument list \()-.18 E F5(ar).33 E(gv)-.37 E F0 2.5(\)i).32 G 2.5(st)
-2.5 G(oo lar)-2.5 E(ge.)-.18 E F1(EA)108 667.2 Q(CCES)-.55 E F0 .01
(Search permission is denied on a component of the path pre\214x of)144
679.2 R F5(pathname)3.761 E F0 .011(or the name of a script)2.691 F
(interpreter)144 691.2 Q 5(.\()-.55 G(See also)-5 E F1(path_r)2.5 E
(esolution)-.18 E F0(\(7\).\))A 184.28(Linux 2020-08-13)72 768 R(3)
205.67 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 122.35(EXECVE\(2\) Linux)72 48 R(Programmer')2.5
E 2.5(sM)-.55 G 122.35(anual EXECVE\(2\))-2.5 F/F1 10/Times-Bold@0 SF
(EA)108 84 Q(CCES)-.55 E F0
(The \214le or a script interpreter is not a re)144 96 Q(gular \214le.)
-.15 E F1(EA)108 112.8 Q(CCES)-.55 E F0(Ex)144 124.8 Q(ecute permission\
 is denied for the \214le or a script or ELF interpreter)-.15 E(.)-.55 E
F1(EA)108 141.6 Q(CCES)-.55 E F0(The \214lesystem is mounted)144 153.6 Q
/F2 10/Times-Italic@0 SF(noe)2.86 E(xec)-.2 E F0(.).31 E F1(EA)108 170.4
Q(GAIN)-.55 E F0(\(since Linux 3.1\))2.5 E(Ha)144 182.4 Q .847
(ving changed its real UID using one of the)-.2 F F1(set*uid)3.347 E F0
.847(\(\) calls, the caller w)B .847(as\212and is no)-.1 F 3.346(ws)-.25
G(till\212)-3.346 E(abo)144 194.4 Q .695 -.15(ve i)-.15 H(ts).15 E F1
(RLIMIT_NPR)2.895 E(OC)-.3 E F0 .396(resource limit \(see)2.896 F F1
(setrlimit)2.896 E F0 2.896(\(2\)\). F)B .396(or a more detailed e)-.15
F .396(xplanation of)-.15 F(this error)144 206.4 Q 2.5(,s)-.4 G(ee NO)
-2.5 E(TES.)-.4 E F1(EF)108 223.2 Q -.5(AU)-.9 G -.92(LT).5 G F2
(pathname)145.25 235.2 Q F0 .179(or one of the pointers in the v)2.859 F
(ectors)-.15 E F2(ar)3.009 E(gv)-.37 E F0(or)2.999 E F2(en)2.869 E(vp)
-.4 E F0 .178(points outside your accessible address)2.869 F(space.)144
247.2 Q F1(EINV)108 264 Q(AL)-1.35 E F0 .181(An ELF e)144 276 R -.15(xe)
-.15 G .181(cutable had more than one PT_INTERP se).15 F .181
(gment \(i.e., tried to name more than one in-)-.15 F(terpreter\).)144
288 Q F1(EIO)108 304.8 Q F0(An I/O error occurred.)144 304.8 Q F1
(EISDIR)108 321.6 Q F0(An ELF interpreter w)144 333.6 Q(as a directory)
-.1 E(.)-.65 E F1(ELIBB)108 350.4 Q(AD)-.3 E F0(An ELF interpreter w)144
362.4 Q(as not in a recognized format.)-.1 E F1(ELOOP)108 379.2 Q F0 -.8
(To)144 391.2 S 2.814(om).8 G(an)-2.814 E 2.814(ys)-.15 G .314
(ymbolic links were encountered in resolving)-2.814 F F2(pathname)4.064
E F0 .313(or the name of a script or ELF)2.994 F(interpreter)144 403.2 Q
(.)-.55 E F1(ELOOP)108 420 Q F0 .809(The maximum recursion limit w)144
432 R .809(as reached during recursi)-.1 F 1.109 -.15(ve s)-.25 H .809
(cript interpretation \(see "Interpreter).15 F(scripts", abo)144 444 Q
-.15(ve)-.15 G 2.5(\). Before).15 F
(Linux 3.8, the error produced for this case w)2.5 E(as)-.1 E F1
(ENOEXEC)2.5 E F0(.)A F1(EMFILE)108 460.8 Q F0(The per)144 472.8 Q(-pro\
cess limit on the number of open \214le descriptors has been reached.)
-.2 E F1(EN)108 489.6 Q(AMET)-.2 E(OOLONG)-.18 E F2(pathname)145.25
501.6 Q F0(is too long.)2.68 E F1(ENFILE)108 518.4 Q F0(The system-wide\
 limit on the total number of open \214les has been reached.)144 530.4 Q
F1(ENOENT)108 547.2 Q F0(The \214le)144 559.2 Q F2(pathname)3.75 E F0
(or a script or ELF interpreter does not e)2.68 E(xist.)-.15 E F1
(ENOEXEC)108 576 Q F0 .601(An e)144 588 R -.15(xe)-.15 G .601(cutable i\
s not in a recognized format, is for the wrong architecture, or has som\
e other for).15 F(-)-.2 E(mat error that means it cannot be e)144 600 Q
-.15(xe)-.15 G(cuted.).15 E F1(ENOMEM)108 616.8 Q F0(Insuf)144 628.8 Q
(\214cient k)-.25 E(ernel memory w)-.1 E(as a)-.1 E -.25(va)-.2 G
(ilable.).25 E F1(ENO)108 645.6 Q(TDIR)-.4 E F0 2.5(Ac)144 657.6 S
(omponent of the path pre\214x of)-2.5 E F2(pathname)3.75 E F0
(or a script or ELF interpreter is not a directory)2.68 E(.)-.65 E F1
(EPERM)108 674.4 Q F0 .373(The \214lesystem is mounted)144 686.4 R F2
(nosuid)3.233 E F0 2.873(,t).77 G .373(he user is not the superuser)
-2.873 F 2.874(,a)-.4 G .374(nd the \214le has the set-user)-2.874 F
.374(-ID or)-.2 F(set-group-ID bit set.)144 698.4 Q 184.28
(Linux 2020-08-13)72 768 R(4)205.67 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 122.35(EXECVE\(2\) Linux)72 48 R(Programmer')2.5
E 2.5(sM)-.55 G 122.35(anual EXECVE\(2\))-2.5 F/F1 10/Times-Bold@0 SF
(EPERM)108 84 Q F0 1.013(The process is being traced, the user is not t\
he superuser and the \214le has the set-user)144 96 R 1.012(-ID or set-)
-.2 F(group-ID bit set.)144 108 Q F1(EPERM)108 124.8 Q F0 2.664(A")144
136.8 S .164(capability-dumb" applications w)-2.664 F .165
(ould not obtain the full set of permitted capabilities granted by)-.1 F
(the e)144 148.8 Q -.15(xe)-.15 G(cutable \214le.).15 E(See)5 E F1
(capabilities)2.5 E F0(\(7\).)A F1(ETXTBSY)108 165.6 Q F0
(The speci\214ed e)144 177.6 Q -.15(xe)-.15 G(cutable w).15 E
(as open for writing by one or more processes.)-.1 E/F2 10.95
/Times-Bold@0 SF(CONFORMING T)72 194.4 Q(O)-.197 E F0 1.297
(POSIX.1-2001, POSIX.1-2008, SVr4, 4.3BSD.)108 206.4 R 1.296
(POSIX does not document the #! beha)6.296 F(vior)-.2 E 3.796(,b)-.4 G
1.296(ut it e)-3.996 F(xists)-.15 E(\(with some v)108 218.4 Q
(ariations\) on other UNIX systems.)-.25 E F2(NO)72 235.2 Q(TES)-.438 E
F0 1.357(One sometimes sees)108 247.2 R F1(execv)3.857 E(e)-.1 E F0
1.357(\(\) \(and the related functions described in)B F1(exec)3.857 E F0
1.357(\(3\)\) described as "e)B -.15(xe)-.15 G 1.358(cuting a).15 F/F3
10/Times-Italic@0 SF(ne)108.36 259.2 Q(w)-.15 E F0 .19
(process" \(or similar\).)3 F .19
(This is a highly misleading description: there is no ne)5.19 F 2.69(wp)
-.25 G .19(rocess; man)-2.69 F 2.69(ya)-.15 G(ttrib)-2.69 E(utes)-.2 E
.107(of the calling process remain unchanged \(in particular)108 271.2 R
2.607(,i)-.4 G .107(ts PID\).)-2.607 F .107(All that)5.107 F F1(execv)
2.607 E(e)-.1 E F0 .108(\(\) does is arrange for an e)B(x-)-.15 E
(isting process \(the calling process\) to e)108 283.2 Q -.15(xe)-.15 G
(cute a ne).15 E 2.5(wp)-.25 G(rogram.)-2.5 E(Set-user)108 300 Q
(-ID and set-group-ID processes can not be)-.2 E F1(ptrace)2.5 E F0
(\(2\)d.)A .282(The result of mounting a \214lesystem)108 316.8 R F3
(nosuid)3.141 E F0 -.25(va)3.551 G .281(ries across Linux k).25 F .281
(ernel v)-.1 F .281(ersions: some will refuse e)-.15 F -.15(xe)-.15 G
(cution).15 E .032(of set-user)108 328.8 R .032(-ID and set-group-ID e)
-.2 F -.15(xe)-.15 G .032(cutables when this w).15 F .032(ould gi)-.1 F
.333 -.15(ve t)-.25 H .033(he user po).15 F .033(wers the)-.25 F 2.533
(yd)-.15 G .033(id not ha)-2.533 F .333 -.15(ve a)-.2 H(lready).15 E
(\(and return)108 340.8 Q F1(EPERM)2.5 E F0
(\), some will just ignore the set-user)A(-ID and set-group-ID bits and)
-.2 E F1(exec)2.5 E F0(\(\) successfully)A(.)-.65 E .651(On Linux,)108
357.6 R F3(ar)3.481 E(gv)-.37 E F0(and)3.471 E F3(en)3.341 E(vp)-.4 E F0
.651(can be speci\214ed as NULL.)3.341 F .65
(In both cases, this has the same ef)5.651 F .65(fect as specifying)-.25
F .052(the ar)108 369.6 R .052
(gument as a pointer to a list containing a single null pointer)-.18 F
(.)-.55 E F1 .053(Do not tak)5.053 F 2.553(ea)-.1 G(dv)-2.553 E .053
(antage of this nonstan-)-.1 F .705(dard and nonportable misfeatur)108
381.6 R(e!)-.18 E F0 .704(On man)5.705 F 3.204(yo)-.15 G .704
(ther UNIX systems, specifying)-3.204 F F3(ar)3.534 E(gv)-.37 E F0 .704
(as NULL will result)3.524 F(in an error \()108 393.6 Q F1(EF)A -.5(AU)
-.9 G -.92(LT).5 G F0(\).).92 E F3(Some)5.33 E F0
(other UNIX systems treat the)2.68 E F3(en)2.69 E(vp==NULL)-.4 E F0
(case the same as Linux.)3.03 E .619(POSIX.1 says that v)108 410.4 R
.619(alues returned by)-.25 F F1(sysconf)3.119 E F0 .619
(\(3\) should be in)B -.25(va)-.4 G .619(riant o).25 F -.15(ve)-.15 G
3.12(rt).15 G .62(he lifetime of a process.)-3.12 F(Ho)5.62 E(w-)-.25 E
-2.15 -.25(ev e)108 422.4 T 2.971 -.4(r, s).25 H 2.171
(ince Linux 2.6.23, if the).4 F F1(RLIMIT_ST)4.671 E -.55(AC)-.9 G(K).55
E F0 2.171(resource limit changes, then the v)4.671 F 2.17
(alue reported by)-.25 F F1(_SC_ARG_MAX)108 434.4 Q F0 .408
(will also change, to re\215ect the f)2.908 F .408
(act that the limit on space for holding command-line ar)-.1 F(-)-.2 E
(guments and en)108 446.4 Q(vironment v)-.4 E(ariables has changed.)-.25
E .922(In most cases where)108 463.2 R F1(execv)3.422 E(e)-.1 E F0 .922
(\(\) f)B .922(ails, control returns to the original e)-.1 F -.15(xe)
-.15 G .921(cutable image, and the caller of).15 F F1(ex-)3.421 E(ecv)
108 475.2 Q(e)-.1 E F0 .144(\(\) can then handle the error)B 5.144(.H)
-.55 G -.25(ow)-5.144 G -2.15 -.25(ev e).25 H .944 -.4(r, i).25 H 2.644
(n\().4 G .144(rare\) cases \(typically caused by resource e)-2.644 F
.144(xhaustion\), f)-.15 F(ailure)-.1 E .133
(may occur past the point of no return: the original e)108 487.2 R -.15
(xe)-.15 G .132(cutable image has been torn do).15 F .132(wn, b)-.25 F
.132(ut the ne)-.2 F 2.632(wi)-.25 G(mage)-2.632 E .004
(could not be completely b)108 499.2 R 2.504(uilt. In)-.2 F .005
(such cases, the k)2.505 F .005(ernel kills the process with a)-.1 F F1
(SIGSEGV)2.505 E F0(\()2.505 E F1(SIGKILL)A F0(until)2.505 E
(Linux 3.17\) signal.)108 511.2 Q F1(Inter)87 528 Q(pr)-.1 E
(eter scripts)-.18 E F0 .832(The k)108 540 R .831
(ernel imposes a maximum length on the te)-.1 F .831(xt that follo)-.15
F .831(ws the "#!" characters at the start of a script;)-.25 F .179
(characters be)108 552 R .179(yond the limit are ignored.)-.15 F .179
(Before Linux 5.1, the limit is 127 characters.)5.179 F .18
(Since Linux 5.1, the)5.18 F(limit is 255 characters.)108 564 Q 2.13
(The semantics of the)108 580.8 R F3(optional-ar)4.86 E(g)-.37 E F0(ar)
4.85 E 2.13(gument of an interpreter script v)-.18 F 2.13
(ary across implementations.)-.25 F(On)7.13 E .197
(Linux, the entire string follo)108 592.8 R .197(wing the)-.25 F F3
(interpr)2.707 E(eter)-.37 E F0 .197(name is passed as a single ar)3.427
F .197(gument to the interpreter)-.18 F 2.698(,a)-.4 G(nd)-2.698 E .645
(this string can include white space.)108 604.8 R(Ho)5.645 E(we)-.25 E
-.15(ve)-.25 G 1.445 -.4(r, b).15 H(eha).4 E .645(vior dif)-.2 F .645
(fers on some other systems.)-.25 F .644(Some systems use)5.644 F .071
(the \214rst white space to terminate)108 616.8 R F3(optional-ar)2.801 E
(g)-.37 E F0 5.071(.O).22 G 2.571(ns)-5.071 G .071
(ome systems, an interpreter script can ha)-2.571 F .372 -.15(ve m)-.2 H
.072(ultiple ar).15 F(-)-.2 E(guments, and white spaces in)108 628.8 Q
F3(optional-ar)2.73 E(g)-.37 E F0(are used to delimit the ar)2.72 E
(guments.)-.18 E(Linux \(lik)108 645.6 Q 2.5(em)-.1 G
(ost other modern UNIX systems\) ignores the set-user)-2.5 E
(-ID and set-group-ID bits on scripts.)-.2 E F1(execv)87 662.4 Q
(e\(\) and EA)-.1 E(GAIN)-.55 E F0 3.047(Am)108 674.4 S .547
(ore detailed e)-3.047 F .547(xplanation of the)-.15 F F1(EA)3.046 E
(GAIN)-.55 E F0 .546
(error that can occur \(since Linux 3.1\) when calling)3.046 F F1(execv)
3.046 E(e)-.1 E F0(\(\))A(is as follo)108 686.4 Q(ws.)-.25 E(The)108
703.2 Q F1(EA)3.09 E(GAIN)-.55 E F0 .59(error can occur when a)3.09 F F3
(pr)4.341 E(eceding)-.37 E F0 .591(call to)3.311 F F1(setuid)3.091 E F0
(\(2\),)A F1(setr)3.091 E(euid)-.18 E F0 .591(\(2\), or)B F1(setr)3.091
E(esuid)-.18 E F0 .591(\(2\) caused the)B .477(real user ID of the proc\
ess to change, and that change caused the process to e)108 715.2 R .477
(xceed its)-.15 F F1(RLIMIT_NPR)2.977 E(OC)-.3 E F0 1.267
(resource limit \(i.e., the number of processes belonging to the ne)108
727.2 R 3.767(wr)-.25 G 1.267(eal UID e)-3.767 F 1.267
(xceeds the resource limit\).)-.15 F 184.28(Linux 2020-08-13)72 768 R(5)
205.67 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 122.35(EXECVE\(2\) Linux)72 48 R(Programmer')2.5
E 2.5(sM)-.55 G 122.35(anual EXECVE\(2\))-2.5 F .445
(From Linux 2.6.0 to 3.0, this caused the)108 84 R/F1 10/Times-Bold@0 SF
(set*uid)2.945 E F0 .445(\(\) call to f)B 2.944(ail. \(Prior)-.1 F .444
(to 2.6, the resource limit w)2.944 F .444(as not im-)-.1 F
(posed on processes that changed their user IDs.\))108 96 Q .444
(Since Linux 3.1, the scenario just described no longer causes the)108
112.8 R F1(set*uid)2.945 E F0 .445(\(\) call to f)B .445
(ail, because it too often)-.1 F .084(led to security holes where b)108
124.8 R .084(uggy applications didn')-.2 F 2.584(tc)-.18 G .084
(heck the return status and assumed that\212if the caller)-2.584 F .831
(had root pri)108 136.8 R(vile)-.25 E .831(ges\212the call w)-.15 F .831
(ould al)-.1 F -.1(wa)-.1 G .831(ys succeed.).1 F .832(Instead, the)
5.832 F F1(set*uid)3.332 E F0 .832(\(\) calls no)B 3.332(ws)-.25 G .832
(uccessfully change)-3.332 F 2.029(the real UID, b)108 148.8 R 2.029
(ut the k)-.2 F 2.029(ernel sets an internal \215ag, named)-.1 F F1
(PF_NPR)4.528 E(OC_EXCEEDED)-.3 E F0 4.528(,t)C 4.528(on)-4.528 G 2.028
(ote that the)-4.528 F F1(RLIMIT_NPR)108 160.8 Q(OC)-.3 E F0 .237
(resource limit has been e)2.737 F 2.738(xceeded. If)-.15 F(the)2.738 E
F1(PF_NPR)2.738 E(OC_EXCEEDED)-.3 E F0 .238(\215ag is set and the)2.738
F .743(resource limit is still e)108 172.8 R .742
(xceeded at the time of a subsequent)-.15 F F1(execv)3.242 E(e)-.1 E F0
.742(\(\) call, that call f)B .742(ails with the error)-.1 F F1(EA-)
3.242 E(GAIN)108 184.8 Q F0 5.774(.T)C .774(his k)-5.774 F .774
(ernel logic ensures that the)-.1 F F1(RLIMIT_NPR)3.275 E(OC)-.3 E F0
.775(resource limit is still enforced for the com-)3.275 F(mon pri)108
196.8 Q(vile)-.25 E(ged daemon w)-.15 E(ork\215o)-.1 E(w\212namely)-.25
E(,)-.65 E F1 -.25(fo)2.5 G(rk).25 E F0(\(2\) +)A F1(set*uid)2.5 E F0
(\(\) +)A F1(execv)2.5 E(e)-.1 E F0(\(\).)A .23(If the resource limit w)
108 213.6 R .23(as not still e)-.1 F .229(xceeded at the time of the)
-.15 F F1(execv)2.729 E(e)-.1 E F0 .229
(\(\) call \(because other processes belong-)B .175
(ing to this real UID terminated between the)108 225.6 R F1(set*uid)
2.675 E F0 .175(\(\) call and the)B F1(execv)2.675 E(e)-.1 E F0 .175
(\(\) call\), then the)B F1(execv)2.675 E(e)-.1 E F0 .175
(\(\) call suc-)B .087(ceeds and the k)108 237.6 R .087
(ernel clears the)-.1 F F1(PF_NPR)2.586 E(OC_EXCEEDED)-.3 E F0 .086
(process \215ag.)2.586 F .086(The \215ag is also cleared if a subse-)
5.086 F(quent call to)108 249.6 Q F1 -.25(fo)2.5 G(rk).25 E F0
(\(2\) by this process succeeds.)A F1(Historical)87 266.4 Q F0 -.4(Wi)
108 278.4 S .945(th UNIX).4 F .945(V6, the ar)2.5 F .946
(gument list of an)-.18 F F1(exec)3.446 E F0 .946(\(\) call w)B .946
(as ended by 0, while the ar)-.1 F .946(gument list of)-.18 F/F2 10
/Times-Italic@0 SF(main)3.826 E F0 -.1(wa)3.686 G(s).1 E .018
(ended by \2551.)108 290.4 R .018(Thus, this ar)5.018 F .018
(gument list w)-.18 F .018(as not directly usable in a further)-.1 F F1
(exec)2.518 E F0 .017(\(\) call.)B .017(Since UNIX)5.017 F .017
(V7, both)2.5 F(are NULL.)108 302.4 Q/F3 10.95/Times-Bold@0 SF(EXAMPLES)
72 319.2 Q F0 .125(The follo)108 331.2 R .125
(wing program is designed to be e)-.25 F -.15(xe)-.15 G .125
(ced by the second program belo).15 F 3.926 -.65(w. I)-.25 H 2.626(tj)
.65 G .126(ust echoes its command-)-2.626 F(line ar)108 343.2 Q
(guments, one per line.)-.18 E/F4 10/Courier@0 SF(/* myecho.c */)128 360
Q(#include <stdio.h>)128 384 Q(#include <stdlib.h>)128 396 Q(int)128 420
Q(main\(int argc, char *argv[]\))128 432 Q({)128 444 Q
(for \(int j = 0; j < argc; j++\))152 456 Q
(printf\("argv[%d]: %s\\n", j, argv[j]\);)176 468 Q
(exit\(EXIT_SUCCESS\);)152 492 Q(})128 504 Q F0
(This program can be used to e)108 520.8 Q -.15(xe)-.15 G 2.5(ct).15 G
(he program named in its command-line ar)-2.5 E(gument:)-.18 E F4
(/* execve.c */)128 537.6 Q(#include <stdio.h>)128 561.6 Q
(#include <stdlib.h>)128 573.6 Q(#include <unistd.h>)128 585.6 Q(int)128
609.6 Q(main\(int argc, char *argv[]\))128 621.6 Q({)128 633.6 Q
(char *newargv[] = { NULL, "hello", "world", NULL };)152 645.6 Q
(char *newenviron[] = { NULL };)152 657.6 Q(if \(argc != 2\) {)152 681.6
Q(fprintf\(stderr, "Usage: %s <file\255to\255exec>\\n", argv[0]\);)176
693.6 Q(exit\(EXIT_FAILURE\);)176 705.6 Q(})152 717.6 Q F0 184.28
(Linux 2020-08-13)72 768 R(6)205.67 E 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 122.35(EXECVE\(2\) Linux)72 48 R(Programmer')2.5
E 2.5(sM)-.55 G 122.35(anual EXECVE\(2\))-2.5 F/F1 10/Courier@0 SF
(newargv[0] = argv[1];)152 84 Q(execve\(argv[1], newargv, newenviron\);)
152 108 Q 12(perror\("execve"\); /*)152 120 R
(execve\(\) returns only on error */)6 E(exit\(EXIT_FAILURE\);)152 132 Q
(})128 144 Q F0 1.6 -.8(We c)108 160.8 T(an use the second program to e)
.8 E -.15(xe)-.15 G 2.5(ct).15 G(he \214rst as follo)-2.5 E(ws:)-.25 E
F1($)128 177.6 Q/F2 10/Courier-Bold@0 SF(cc myecho.c \255o myecho)6 E F1
($)128 189.6 Q F2(cc execve.c \255o execve)6 E F1($)128 201.6 Q F2
(./execve ./myecho)6 E F1(argv[0]: ./myecho)128 213.6 Q(argv[1]: hello)
128 225.6 Q(argv[2]: world)128 237.6 Q F0 1.952 -.8(We c)108 254.4 T
.352(an also use these programs to demonstrate the use of a script inte\
rpreter).8 F 5.351(.T)-.55 G 2.851(od)-6.151 G 2.851(ot)-2.851 G .351
(his we create a script)-2.851 F(whose "interpreter" is our)108 266.4 Q
/F3 10/Times-Italic@0 SF(myec)2.88 E(ho)-.15 E F0(program:)2.68 E F1($)
128 283.2 Q F2(cat > script)6 E(#!./myecho script\255arg)128 295.2 Q
<0044>128 307.2 Q F1($)128 319.2 Q F2(chmod +x script)6 E F0 1.6 -.8
(We c)108 336 T(an then use our program to e).8 E -.15(xe)-.15 G 2.5(ct)
.15 G(he script:)-2.5 E F1($)128 352.8 Q F2(./execve ./script)6 E F1
(argv[0]: ./myecho)128 364.8 Q(argv[1]: script\255arg)128 376.8 Q
(argv[2]: ./script)128 388.8 Q(argv[3]: hello)128 400.8 Q
(argv[4]: world)128 412.8 Q/F4 10.95/Times-Bold@0 SF(SEE ALSO)72 429.6 Q
/F5 10/Times-Bold@0 SF(chmod)108 441.6 Q F0(\(2\),)A F5(execv)3.323 E
(eat)-.1 E F0(\(2\),)A F5 -.25(fo)3.323 G(rk).25 E F0(\(2\),)A F5(get_r)
3.324 E(ob)-.18 E(ust_list)-.2 E F0(\(2\),)A F5(ptrace)3.324 E F0
(\(2\),)A F5(exec)3.324 E F0(\(3\),)A F5(fexecv)3.324 E(e)-.1 E F0
(\(3\),)A F5(getopt)3.324 E F0(\(3\),)A F5(system)3.324 E F0(\(3\),)A F5
(capabilities)108 453.6 Q F0(\(7\),)A F5(cr)2.5 E(edentials)-.18 E F0
(\(7\),)A F5(en)2.5 E(vir)-.4 E(on)-.18 E F0(\(7\),)A F5(path_r)2.5 E
(esolution)-.18 E F0(\(7\),)A F5(ld.so)2.5 E F0(\(8\))A F4(COLOPHON)72
470.4 Q F0 .341(This page is part of release 5.10 of the Linux)108 482.4
R F3(man-pa)3.221 E -.1(ge)-.1 G(s).1 E F0 2.84(project. A)3.11 F .34
(description of the project, information)2.84 F 11.103
(about reporting b)108 494.4 R 11.103(ugs, and the latest v)-.2 F 11.103
(ersion of this page, can be found at)-.15 F(https://www)108 506.4 Q(.k)
-.65 E(ernel.or)-.1 E(g/doc/man\255pages/.)-.18 E 184.28
(Linux 2020-08-13)72 768 R(7)205.67 E 0 Cg EP
%%Trailer
end
%%EOF
